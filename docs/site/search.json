{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"AltruPets - DocumentaciÃ³n del Proyecto","text":"<p>Bienvenido a la documentaciÃ³n tÃ©cnica de AltruPets, una plataforma cloud-native de protecciÃ³n animal para toda LatinoamÃ©rica.</p>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#sitio-principal","level":2,"title":"ğŸŒ Sitio Principal","text":"<p>URL: altrupets.github.io/altrupets-monorepo/</p>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#secciones-de-documentacion","level":2,"title":"ğŸ“š Secciones de DocumentaciÃ³n","text":"","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#quick-links","level":3,"title":"Quick Links","text":"SecciÃ³n DescripciÃ³n Arquitectura Arquitectura del sistema y diseÃ±o tÃ©cnico TecnologÃ­as Stack tecnolÃ³gico completo Desarrollo GuÃ­a de configuraciÃ³n y desarrollo local Despliegue Estrategias de despliegue en producciÃ³n latam_payments Paquete de pagos para LATAM","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#estado-del-proyecto","level":2,"title":"ğŸš€ Estado del Proyecto","text":"","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#completado","level":3,"title":"âœ… Completado","text":"<ul> <li> Arquitectura base del monorepo</li> <li> Backend con NestJS + GraphQL</li> <li> Frontend Flutter con Clean Architecture</li> <li> Infraestructura Kubernetes</li> <li> Pipeline CI/CD con GitHub Actions</li> <li> Sistema de pagos LATAM (latam_payments)</li> </ul>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#roadmap","level":3,"title":"ğŸ“‹ Roadmap","text":"<ul> <li> Despliegue a producciÃ³n</li> <li> IntegraciÃ³n con pasarelas de pago regionales</li> <li> Sistema de notificaciones push</li> <li> Module Federation para micro-frontends</li> <li> MÃ©tricas y observabilidad</li> </ul>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#estructura-del-proyecto","level":2,"title":"ğŸ“ Estructura del Proyecto","text":"<pre><code>altrupets-monorepo/\nâ”œâ”€â”€ apps/\nâ”‚   â”œâ”€â”€ backend/           # Backend NestJS + GraphQL\nâ”‚   â””â”€â”€ mobile/           # App Flutter\nâ”œâ”€â”€ docs/                 # DocumentaciÃ³n MkDocs\nâ”‚   â””â”€â”€ content/          # Archivos markdown\nâ”œâ”€â”€ infrastructure/       # Terraform + Kubernetes\nâ”œâ”€â”€ skills/              # Agent Skills para IA\nâ”œâ”€â”€ specs/               # Especificaciones tÃ©cnicas\nâ””â”€â”€ site/                # Salida de GitHub Pages\n</code></pre>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"#enlaces-relevantes","level":2,"title":"ğŸ”— Enlaces Relevantes","text":"<ul> <li>GitHub: github.com/altrupets</li> <li>Sitio Web: altrupets.com</li> </ul> <p>Ãšltima actualizaciÃ³n: Febrero 2026</p>","path":["AltruPets - DocumentaciÃ³n del Proyecto"],"tags":[]},{"location":"devsecops/security-scanner/","level":1,"title":"Security Scanner","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#descripcion","level":2,"title":"DescripciÃ³n","text":"<p>El Security Scanner es un contenedor Docker dedicado que contiene todas las herramientas necesarias para realizar anÃ¡lisis de seguridad en el proyecto AltruPets. Se ejecuta como Kubernetes Jobs o CronJobs para escanear cÃ³digo, dependencias, imÃ¡genes y configuraciones de infraestructura.</p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#arquitectura","level":2,"title":"Arquitectura","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#separacion-de-responsabilidades","level":3,"title":"SeparaciÃ³n de Responsabilidades","text":"<pre><code>graph LR\n    A[Backend Container] --&gt; B[\"Node.js + App\"]\n    C[Security Scanner] --&gt; D[Security Tools]\n\n    style A fill:#e1f5e1\n    style B fill:#d4edda\n    style C fill:#fff3cd\n    style D fill:#f8d7da</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#por-que-un-contenedor-separado","level":3,"title":"Â¿Por quÃ© un contenedor separado?","text":"Aspecto Backend Container Security Scanner PropÃ³sito Ejecutar la aplicaciÃ³n Escanear seguridad TamaÃ±o ~150MB (alpine) ~2GB (con herramientas) Entorno ProducciÃ³n CI/CD + Dev Contenido Solo runtime necesario Todas las herramientas de seguridad Principio MÃ­nima superficie de ataque MÃ¡xima cobertura de anÃ¡lisis <p>Beneficios de la SeparaciÃ³n</p> <ul> <li>âœ… ImÃ¡genes de producciÃ³n mÃ¡s pequeÃ±as y seguras</li> <li>âœ… Despliegues mÃ¡s rÃ¡pidos del backend</li> <li>âœ… Herramientas de seguridad aisladas de producciÃ³n</li> <li>âœ… Escaneos programables independientes</li> <li>âœ… Versionado Ãºnico de herramientas de seguridad</li> </ul> <p>Anti-patrÃ³n (lo que NO hacemos)</p> <ul> <li>âŒ Instalar herramientas de seguridad en el Dockerfile del backend</li> <li>âŒ Mezclar dependencias de runtime con herramientas de anÃ¡lisis</li> <li>âŒ Exponer herramientas de seguridad en contenedores de producciÃ³n</li> </ul>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#herramientas-incluidas","level":2,"title":"Herramientas Incluidas","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#analisis-de-vulnerabilidades","level":3,"title":"AnÃ¡lisis de Vulnerabilidades","text":"Herramienta VersiÃ³n PropÃ³sito Trivy 0.69.1 Escaneo de contenedores y filesystem npm audit (Node 20.x) Vulnerabilidades en dependencias Node.js Safety latest Vulnerabilidades en dependencias Python","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#analisis-estatico-sast","level":3,"title":"AnÃ¡lisis EstÃ¡tico (SAST)","text":"Herramienta VersiÃ³n PropÃ³sito dart analyze (Flutter stable) AnÃ¡lisis estÃ¡tico de cÃ³digo Dart ESLint (via npm) AnÃ¡lisis de cÃ³digo TypeScript/JavaScript Bandit latest AnÃ¡lisis de seguridad en cÃ³digo Python","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#deteccion-de-secretos","level":3,"title":"DetecciÃ³n de Secretos","text":"Herramienta VersiÃ³n PropÃ³sito Trufflehog 2.2.1 DetecciÃ³n de secretos en cÃ³digo y commits","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#infrastructure-as-code-iac","level":3,"title":"Infrastructure as Code (IaC)","text":"Herramienta VersiÃ³n PropÃ³sito tfsec 1.28.14 AnÃ¡lisis de seguridad para Terraform Checkov 3.2.504 AnÃ¡lisis de IaC multi-cloud (Terraform, K8s, Docker)","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#uso","level":2,"title":"Uso","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#build-local","level":3,"title":"Build Local","text":"<pre><code>docker build -t altrupets/security-scanner:1.0.0 \\\n  -f infrastructure/docker/security-scanner/Dockerfile .\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#ejecucion-local","level":3,"title":"EjecuciÃ³n Local","text":"<pre><code># Escaneo completo\ndocker run --rm \\\n  -v $(pwd):/workspace \\\n  -v $(pwd)/.security-reports:/reports \\\n  altrupets/security-scanner:1.0.0 all\n\n# Escaneo especÃ­fico\ndocker run --rm \\\n  -v $(pwd):/workspace \\\n  -v $(pwd)/.security-reports:/reports \\\n  altrupets/security-scanner:1.0.0 deps\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#makefile-commands","level":3,"title":"Makefile Commands","text":"<pre><code># Escaneo completo\nmake dev-security-scan\n\n# Escaneos especÃ­ficos\nmake dev-security-deps        # Dependencias\nmake dev-security-sast        # AnÃ¡lisis estÃ¡tico\nmake dev-security-secrets     # DetecciÃ³n de secretos\nmake dev-security-container   # ImÃ¡genes de contenedor\nmake dev-security-iac         # Infrastructure as Code\n\n# Auto-fix vulnerabilidades\nmake dev-security-fix\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#kubernetes-job-on-demand","level":3,"title":"Kubernetes Job (On-Demand)","text":"<pre><code># Ejecutar escaneo manual\nkubectl create job security-scan-manual \\\n  --from=cronjob/security-scanner \\\n  -n altrupets-dev\n\n# Ver logs\nkubectl logs -f job/security-scan-manual -n altrupets-dev\n\n# Ver reportes\nkubectl exec -it security-scan-manual-xxxxx -n altrupets-dev \\\n  -- ls -la /reports\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#kubernetes-cronjob-programado","level":3,"title":"Kubernetes CronJob (Programado)","text":"<p>El scanner se ejecuta automÃ¡ticamente todos los dÃ­as a las 2:00 AM:</p> <pre><code># k8s/base/security-scanner/cronjob.yaml\nschedule: \"0 2 * * *\"  # Diario a las 2 AM\n</code></pre> <pre><code># Ver prÃ³ximas ejecuciones\nkubectl get cronjob security-scanner -n altrupets-dev\n\n# Ver historial de Jobs\nkubectl get jobs -n altrupets-dev -l app=security-scanner\n\n# Ver logs del Ãºltimo escaneo\nkubectl logs -f $(kubectl get pods -n altrupets-dev \\\n  -l app=security-scanner --sort-by=.metadata.creationTimestamp \\\n  -o jsonpath='{.items[-1].metadata.name}')\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#tipos-de-escaneo","level":2,"title":"Tipos de Escaneo","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#1-dependencias-deps","level":3,"title":"1. Dependencias (<code>deps</code>)","text":"<p>Escanea vulnerabilidades en dependencias de paquetes:</p> <pre><code>make dev-security-deps\n</code></pre> <p>Herramientas: - <code>npm audit</code> para Node.js - <code>safety</code> para Python - <code>flutter pub outdated --mode=security</code> para Dart</p> <p>Salida: - <code>.security-reports/npm-audit.json</code> - Reporte en consola con severidades</p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#2-analisis-estatico-sast","level":3,"title":"2. AnÃ¡lisis EstÃ¡tico (<code>sast</code>)","text":"<p>Analiza el cÃ³digo fuente en busca de problemas de seguridad:</p> <pre><code>make dev-security-sast\n</code></pre> <p>Herramientas: - <code>dart analyze</code> para Flutter/Dart - <code>eslint</code> para TypeScript/JavaScript - <code>bandit</code> para Python - <code>shellcheck</code> para scripts Bash</p> <p>Salida: - <code>.security-reports/dart-analyze.txt</code> - <code>.security-reports/eslint.json</code> - <code>.security-reports/shellcheck.json</code></p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#3-secretos-secrets","level":3,"title":"3. Secretos (<code>secrets</code>)","text":"<p>Detecta secretos hardcodeados en el cÃ³digo:</p> <pre><code>make dev-security-secrets\n</code></pre> <p>Herramientas: - <code>trufflehog</code> con verificaciÃ³n de secretos</p> <p>Patrones detectados: - API keys - Passwords - Tokens (JWT, OAuth, etc.) - Private keys (RSA, EC, DSA) - Cloud credentials (AWS, GCP, Azure)</p> <p>Salida: - <code>.security-reports/trufflehog.json</code></p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#4-contenedores-container","level":3,"title":"4. Contenedores (<code>container</code>)","text":"<p>Escanea imÃ¡genes Docker y Dockerfiles:</p> <pre><code>make dev-security-container\n</code></pre> <p>Herramientas: - <code>trivy</code> para anÃ¡lisis de imÃ¡genes y configuraciÃ³n</p> <p>Escanea: - Vulnerabilidades en imÃ¡genes base - Vulnerabilidades en dependencias - ConfiguraciÃ³n de Dockerfiles - Best practices de Docker</p> <p>Salida: - <code>.security-reports/trivy-backend.json</code> - <code>.security-reports/trivy-backend-config.json</code></p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#5-infrastructure-as-code-iac","level":3,"title":"5. Infrastructure as Code (<code>iac</code>)","text":"<p>Escanea configuraciones de infraestructura:</p> <pre><code>make dev-security-iac\n</code></pre> <p>Herramientas: - <code>tfsec</code> para Terraform/OpenTofu - <code>checkov</code> para Terraform, Kubernetes, Docker</p> <p>Escanea: - Configuraciones de Terraform - Manifiestos de Kubernetes - Dockerfiles - Helm charts</p> <p>Salida: - <code>.security-reports/tfsec.json</code> - <code>.security-reports/checkov.json</code> - <code>.security-reports/checkov-k8s.json</code></p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#6-auto-fix-fix","level":3,"title":"6. Auto-Fix (<code>fix</code>)","text":"<p>Intenta corregir automÃ¡ticamente vulnerabilidades:</p> <pre><code>make dev-security-fix\n</code></pre> <p>Acciones: - <code>npm audit fix --force</code> para Node.js - <code>flutter pub upgrade --major-versions</code> para Dart - <code>dart fix --apply</code> para cÃ³digo Dart - <code>eslint --fix</code> para TypeScript/JavaScript</p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#reportes","level":2,"title":"Reportes","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#ubicacion","level":3,"title":"UbicaciÃ³n","text":"<p>Todos los reportes se guardan en:</p> <pre><code>graph TD\n    reports[\".security-reports/\"]\n    npm[npm-audit.json]\n    dart[dart-analyze.txt]\n    eslint[eslint.json]\n    shell[shellcheck.json]\n    truffle[trufflehog.json]\n    trivy[trivy-backend.json]\n    trivyc[trivy-backend-config.json]\n    tfsec[tfsec.json]\n    checkov[checkov.json]\n    checkovk[checkov-k8s.json]\n    summary[summary-YYYYMMDD-HHMMSS.md]\n\n    reports --&gt; npm\n    reports --&gt; dart\n    reports --&gt; eslint\n    reports --&gt; shell\n    reports --&gt; truffle\n    reports --&gt; trivy\n    reports --&gt; trivyc\n    reports --&gt; tfsec\n    reports --&gt; checkov\n    reports --&gt; checkovk\n    reports --&gt; summary\n\n    style reports fill:#f8f9fa,stroke:#333</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#reporte-resumen","level":3,"title":"Reporte Resumen","text":"<p>Cada ejecuciÃ³n genera un reporte resumen en Markdown:</p> <pre><code># DevSecOps Scan Report\n\n**Date:** 2025-02-19 14:30:00\n**Environment:** DEV Local (Minikube)\n\n## Scans Performed\n\n| Scan | Status | Report |\n|------|--------|--------|\n| Dependencies | âœ… | .security-reports/npm-audit.json |\n| SAST | âœ… | .security-reports/dart-analyze.txt |\n| Secrets | âœ… | .security-reports/trufflehog.json |\n| Containers | âœ… | .security-reports/trivy-backend.json |\n| IaC | âœ… | .security-reports/tfsec.json |\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#cicd-integration","level":2,"title":"CI/CD Integration","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#github-actions","level":3,"title":"GitHub Actions","text":"<pre><code># .github/workflows/security-scan.yml\nname: Security Scan\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n  schedule:\n    - cron: '0 2 * * *'  # Diario a las 2 AM\n\njobs:\n  security-scan:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Build Security Scanner\n        run: |\n          docker build -t security-scanner:latest \\\n            -f infrastructure/docker/security-scanner/Dockerfile .\n\n      - name: Run Security Scan\n        run: |\n          docker run --rm \\\n            -v ${{ github.workspace }}:/workspace \\\n            -v ${{ github.workspace }}/.security-reports:/reports \\\n            security-scanner:latest all\n\n      - name: Upload Reports\n        uses: actions/upload-artifact@v4\n        with:\n          name: security-reports\n          path: .security-reports/\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#variables-de-entorno","level":3,"title":"Variables de Entorno","text":"<pre><code># Nivel de severidad mÃ­nimo\nSEVERITY_THRESHOLD=HIGH\n\n# Fallar el build en vulnerabilidades\nFAIL_ON_VULNERABILITIES=true\n\n# Directorio de reportes\nREPORT_DIR=/reports\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#exclusiones","level":3,"title":"Exclusiones","text":"<p>Crear <code>.trivyignore</code> para excluir vulnerabilidades conocidas:</p> <pre><code># .trivyignore\nCVE-2024-12345  # False positive, no aplica a nuestro caso\n</code></pre> <p>Crear <code>.tfsec-ignore</code> para Terraform:</p> <pre><code># .tfsec-ignore\n- rule: aws-s3-enable-bucket-encryption\n  expiry: 2025-12-31\n  reason: Bucket temporal para desarrollo\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#error-trivy-database-update-failed","level":3,"title":"Error: Trivy database update failed","text":"<pre><code># Actualizar manualmente la base de datos\ndocker run --rm aquasec/trivy:latest image --download-db-only\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#error-flutter-sdk-not-found","level":3,"title":"Error: Flutter SDK not found","text":"<pre><code># Verificar que Flutter estÃ© en el PATH\ndocker run --rm security-scanner:latest flutter --version\n</code></pre>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#falsos-positivos","level":3,"title":"Falsos Positivos","text":"<p>Usar archivos de configuraciÃ³n para suprimir:</p> <ul> <li><code>.trivyignore</code> para Trivy</li> <li><code>.tfsec-ignore</code> para tfsec</li> <li><code>.checkov.yml</code> para Checkov</li> </ul>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#mejores-practicas","level":2,"title":"Mejores PrÃ¡cticas","text":"<p>Recomendaciones</p> <ol> <li> <p>Ejecutar escaneos antes de cada commit <pre><code>make dev-security-scan\n</code></pre></p> </li> <li> <p>Revisar reportes regularmente <pre><code>cat .security-reports/summary-*.md\n</code></pre></p> </li> <li> <p>Priorizar vulnerabilidades CRITICAL y HIGH</p> </li> <li> <p>Mantener herramientas actualizadas <pre><code>docker build --no-cache -t security-scanner:latest \\\n  -f infrastructure/docker/security-scanner/Dockerfile .\n</code></pre></p> </li> <li> <p>Integrar en CI/CD pipeline</p> </li> </ol>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"devsecops/security-scanner/#referencias","level":2,"title":"Referencias","text":"<ul> <li>Trivy Documentation</li> <li>tfsec Documentation</li> <li>Checkov Documentation</li> <li>Trufflehog Documentation</li> <li>OWASP Top 10</li> </ul> <p>Ãšltima actualizaciÃ³n: 19 de febrero de 2025</p>","path":["ğŸ”’ DevSecOps","Security Scanner"],"tags":[]},{"location":"docs/architecture/data-flow/","level":1,"title":"ğŸ“Š Flujo de Datos","text":"","path":["ğŸ—ï¸ Arquitectura","ğŸ“Š Flujo de Datos"],"tags":[]},{"location":"docs/architecture/data-flow/#flujo-de-rescate","level":2,"title":"Flujo de Rescate","text":"<pre><code>1. Centinela reporta â†’ GraphQL Mutation\n2. GeolocalizaciÃ³n â†’ Algoritmo de proximidad\n3. Auxiliares notificados â†’ Firebase Cloud Messaging\n4. Auxiliar acepta â†’ ActualizaciÃ³n de estado\n5. Rescatista asignado â†’ Workflow de cuidado\n6. Caso cerrado â†’ MÃ©tricas y trazabilidad\n</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ“Š Flujo de Datos"],"tags":[]},{"location":"docs/architecture/data-flow/#flujo-de-donacion","level":2,"title":"Flujo de DonaciÃ³n","text":"<pre><code>1. Donante selecciona amount â†’ Checkout\n2. Gateway seleccionado â†’ latam_payments\n3. Procesamiento â†’ Pago regional\n4. ConfirmaciÃ³n â†’ ActualizaciÃ³n de estado\n5. NotificaciÃ³n â†’ Recibo y trazabilidad\n</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ“Š Flujo de Datos"],"tags":[]},{"location":"docs/architecture/micro-frontends/","level":1,"title":"ğŸ¨ Micro-Frontends","text":"<p>AltruPets utiliza una arquitectura de micro-frontends donde cada aplicaciÃ³n web tiene su propio servidor Express.js independiente con Vue.js renderizado vÃ­a Inertia.js.</p>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#arquitectura-de-micro-frontends","level":2,"title":"Arquitectura de Micro-Frontends","text":"<pre><code>flowchart TB\n    subgraph Clients[Clientes]\n        Browser[Browser&lt;br/&gt;Usuarios]\n        Mobile[Flutter App&lt;br/&gt;Mobile]\n        API[API Clients&lt;br/&gt;Integraciones]\n    end\n\n    subgraph Gateway[Gateway Layer]\n        NGINX[NGINX Gateway API&lt;br/&gt;HTTPRoutes]\n        Routes[Route /admin -&gt; web-superusers:3002&lt;br/&gt;Route /b2g -&gt; web-b2g:3003&lt;br/&gt;Route /graphql -&gt; backend:3001]\n    end\n\n    subgraph Superusers[CRUD Superusers]\n        Express1[Express.js&lt;br/&gt;puerto 3002]\n        Vue1[Vue 3 + Inertia&lt;br/&gt;CDN]\n        Express1 --&gt; Vue1\n    end\n\n    subgraph B2G[B2G Government]\n        Express2[Express.js&lt;br/&gt;puerto 3003]\n        Vue2[Vue 3 + Inertia&lt;br/&gt;CDN]\n        Express2 --&gt; Vue2\n    end\n\n    subgraph Backend[Backend API]\n        NestJS[NestJS + GraphQL&lt;br/&gt;puerto 3001]\n        Modules[Auth | Users | Pets&lt;br/&gt;Rescues | Adoptions | Donations]\n        NestJS --&gt; Modules\n    end\n\n    subgraph Data[Data Layer]\n        Postgres[(PostgreSQL)]\n        Valkey[(Valkey&lt;br/&gt;Cache)]\n    end\n\n    Browser --&gt; NGINX\n    Mobile --&gt; NGINX\n    API --&gt; NGINX\n    NGINX --&gt; Routes\n    Routes --&gt; Express1\n    Routes --&gt; Express2\n    Routes --&gt; NestJS\n    NestJS --&gt; Postgres\n    NestJS --&gt; Valkey</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#flujo-de-request","level":2,"title":"Flujo de Request","text":"<pre><code>sequenceDiagram\n    participant U as Usuario\n    participant G as Gateway\n    participant MF as Micro-Frontend\n    participant B as Backend\n\n    Note over U,B: Flujo de Login\n    U-&gt;&gt;G: GET /admin/login\n    G-&gt;&gt;MF: proxy_pass\n    MF-&gt;&gt;MF: renderPage()\n    MF--&gt;&gt;G: HTML + Vue CDN\n    G--&gt;&gt;U: HTML Response\n\n    U-&gt;&gt;G: POST /admin/login\n    G-&gt;&gt;MF: proxy_pass\n    MF-&gt;&gt;B: POST /login\n    B--&gt;&gt;MF: Set-Cookie: jwt\n    MF--&gt;&gt;G: Redirect /admin\n    G--&gt;&gt;U: Redirect + Cookie</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#tecnologias-por-micro-frontend","level":2,"title":"TecnologÃ­as por Micro-Frontend","text":"","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#crud-superusers-admin","level":3,"title":"CRUD Superusers (<code>/admin/*</code>)","text":"Componente TecnologÃ­a DescripciÃ³n Servidor Express.js Servidor Node.js minimalista Frontend Vue 3 (CDN) Sin build step, carga desde CDN SPA Inertia.js NavegaciÃ³n sin recargar pÃ¡gina Estilos CSS inline Sin Tailwind, estilos bÃ¡sicos Puerto 3002 Puerto interno del contenedor Roles <code>SUPER_USER</code> Solo administradores","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#b2g-government-b2g","level":3,"title":"B2G Government (<code>/b2g/*</code>)","text":"Componente TecnologÃ­a DescripciÃ³n Servidor Express.js Servidor Node.js minimalista Frontend Vue 3 (CDN) Sin build step, carga desde CDN SPA Inertia.js NavegaciÃ³n sin recargar pÃ¡gina Estilos CSS inline Tema azul/cyan para gobierno Puerto 3003 Puerto interno del contenedor Roles <code>GOVERNMENT_ADMIN</code>, <code>SUPER_USER</code> Funcionarios gubernamentales","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#ventajas-de-esta-arquitectura","level":2,"title":"Ventajas de esta Arquitectura","text":"<pre><code>flowchart TB\n    root[Micro-Frontends] --&gt; sep[Separacion]\n    root --&gt; nobuild[Sin Build Step]\n    root --&gt; security[Seguridad]\n    root --&gt; dx[Developer Experience]\n\n    sep --&gt; app1[Apps Independientes]\n    sep --&gt; deploy1[Deploy Independiente]\n    sep --&gt; scale[Escalado Independiente]\n\n    nobuild --&gt; vue[Vue desde CDN]\n    nobuild --&gt; novite[Sin Vite/Webpack]\n    nobuild --&gt; simple[Dockerfiles Simples]\n    nobuild --&gt; fast[Desarrollo Rapido]\n\n    security --&gt; auth[Auth por App]\n    security --&gt; roles[Roles Especificos]\n    security --&gt; truth[Backend como Fuente]\n\n    dx --&gt; hot[Hot Reload con tsx]\n    dx --&gt; one[Un Comando Dev]\n    dx --&gt; logs[Logs Centralizados]</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#despliegue-en-kubernetes","level":2,"title":"Despliegue en Kubernetes","text":"<pre><code>flowchart LR\n    subgraph Namespace[\"Namespace: altrupets-dev\"]\n        subgraph WebApps[\"Web Apps\"]\n            WS[\"web-superusers&lt;br/&gt;:3002&lt;br/&gt;SUPER_USER\"]\n            WB[\"web-b2g&lt;br/&gt;:3003&lt;br/&gt;GOV_ADMIN\"]\n        end\n\n        subgraph API[\"API\"]\n            BK[\"backend&lt;br/&gt;:3001&lt;br/&gt;GraphQL\"]\n        end\n\n        subgraph GW[\"Gateway\"]\n            NG[\"dev-gateway-nginx&lt;br/&gt;HTTPRoutes\"]\n        end\n    end\n\n    subgraph Images[\"Container Images\"]\n        I1[\"localhost/altrupets-web-crud-superusers:dev\"]\n        I2[\"localhost/altrupets-web-b2g:dev\"]\n        I3[\"localhost/altrupets-backend:dev\"]\n    end\n\n    I1 --&gt; WS\n    I2 --&gt; WB\n    I3 --&gt; BK\n\n    NG --&gt; WS\n    NG --&gt; WB\n    NG --&gt; BK</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#estructura-de-codigo","level":2,"title":"Estructura de CÃ³digo","text":"<pre><code>flowchart TB\n    subgraph Monorepo[Monorepo]\n        Mobile[mobile&lt;br/&gt;Flutter App]\n\n        Super[crud-superusers&lt;br/&gt;Express + Vue CDN]\n        B2G[b2g&lt;br/&gt;Express + Vue CDN]\n        Shared[shared&lt;br/&gt;Utilidades]\n\n        Backend[backend&lt;br/&gt;NestJS + GraphQL]\n\n        TF[terraform&lt;br/&gt;IaC]\n        Scripts[scripts&lt;br/&gt;Build &amp; Deploy]\n\n        Base[base&lt;br/&gt;Manifests]\n        Overlays[overlays&lt;br/&gt;dev|qa|stage|prod]\n    end\n\n    Mobile -.-&gt; Backend\n    Super -.-&gt; Backend\n    B2G -.-&gt; Backend</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/micro-frontends/#comandos-de-desarrollo","level":2,"title":"Comandos de Desarrollo","text":"<pre><code># Iniciar entorno local completo\nmake dev-minikube-deploy      # 1. Crear cluster\nmake dev-gateway-deploy       # 2. Deploy Gateway API\nmake dev-backend-build        # 3. Build backend\nmake dev-superusers-deploy    # 4. Deploy Admin\nmake dev-b2g-deploy           # 5. Deploy B2G\nmake dev-gateway-start        # 6. Port-forward\n\n# URLs locales\nhttp://localhost:3001/admin/login   # CRUD Superusers\nhttp://localhost:3001/b2g/login     # B2G Government\nhttp://localhost:3001/graphql       # GraphQL Playground\n</code></pre>","path":["ğŸ—ï¸ Arquitectura","ğŸ¨ Micro-Frontends"],"tags":[]},{"location":"docs/architecture/overview/","level":1,"title":"Arquitectura - VisiÃ³n General","text":"","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#arquitectura-completa","level":2,"title":"Arquitectura Completa","text":"<pre><code>flowchart TB\n    subgraph Clients\n        Browser[Browser]\n        Mobile[Flutter App]\n        API[API Clients]\n    end\n\n    subgraph Gateway\n        NGINX[NGINX Gateway API]\n    end\n\n    subgraph Apps\n        Admin[CRUD Superusers&lt;br/&gt;Express+Vue]\n        B2G[B2G Government&lt;br/&gt;Express+Vue]\n        Backend[Backend API&lt;br/&gt;NestJS+GraphQL]\n    end\n\n    subgraph Data\n        Postgres[(PostgreSQL)]\n        Valkey[(Valkey)]\n        Storage[(S3/MinIO)]\n    end\n\n    Browser --&gt; NGINX\n    Mobile --&gt; NGINX\n    API --&gt; NGINX\n    NGINX --&gt; Admin\n    NGINX --&gt; B2G\n    NGINX --&gt; Backend\n    Admin -.-&gt; Backend\n    B2G -.-&gt; Backend\n    Backend --&gt; Postgres\n    Backend --&gt; Valkey\n    Backend --&gt; Storage</code></pre>","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#capas-de-la-arquitectura","level":2,"title":"Capas de la Arquitectura","text":"","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#1-presentation-layer","level":3,"title":"1. Presentation Layer","text":"AplicaciÃ³n TecnologÃ­a Puerto Roles CRUD Superusers Express+Vue+Inertia 3002 <code>SUPER_USER</code> B2G Government Express+Vue+Inertia 3003 <code>GOVERNMENT_ADMIN</code> Flutter Mobile Flutter+Riverpod - Todos","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#2-gateway-layer","level":3,"title":"2. Gateway Layer","text":"Componente TecnologÃ­a Ingress NGINX Gateway API HTTPRoutes Gateway API","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#3-api-layer","level":3,"title":"3. API Layer","text":"Componente TecnologÃ­a Framework NestJS API GraphQL ORM Prisma","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#4-data-layer","level":3,"title":"4. Data Layer","text":"Componente TecnologÃ­a Database PostgreSQL Cache Valkey Storage S3/MinIO","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#5-infrastructure-layer","level":3,"title":"5. Infrastructure Layer","text":"Componente TecnologÃ­a Orchestration Kubernetes IaC Terraform CI/CD GitHub Actions GitOps ArgoCD","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#principios-arquitectonicos","level":2,"title":"Principios ArquitectÃ³nicos","text":"","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#clean-architecture","level":3,"title":"Clean Architecture","text":"<pre><code>flowchart LR\n    subgraph Core\n        Payments[payments]\n        Network[network]\n        Services[services]\n    end\n\n    subgraph Features\n        Auth[auth]\n        Pets[pets]\n        Rescues[rescues]\n    end\n\n    Core --&gt; Features</code></pre>","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#backend-modules","level":3,"title":"Backend Modules","text":"<pre><code>flowchart TB\n    Auth --&gt; Shared\n    Users --&gt; Shared\n    Pets --&gt; Shared\n    Rescues --&gt; Shared\n\n    subgraph Shared\n        Guards[Guards]\n        Decorators[Decorators]\n    end</code></pre>","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/overview/#seguridad","level":2,"title":"Seguridad","text":"<pre><code>flowchart LR\n    subgraph Security\n        JWT[JWT Auth]\n        RBAC[RBAC]\n        Rate[Rate Limiting]\n        SSL[SSL/TLS]\n    end\n\n    subgraph Roles\n        Super[SUPER_USER]\n        Gov[GOVERNMENT_ADMIN]\n        Rescuer[RESCUER]\n    end\n\n    Security --&gt; Roles</code></pre>","path":["ğŸ—ï¸ Arquitectura","Arquitectura - VisiÃ³n General"],"tags":[]},{"location":"docs/architecture/technologies/","level":1,"title":"ğŸ› ï¸ TecnologÃ­as","text":"","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/architecture/technologies/#web-apps-micro-frontends","level":2,"title":"ğŸ–¥ï¸ Web Apps (Micro-Frontends)","text":"TecnologÃ­a Uso Express.js Servidor Node.js minimalista Vue 3 Framework UI (desde CDN) Inertia.js SPA sin API adicional TypeScript Type safety en servidor","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/architecture/technologies/#frontend-mobile","level":2,"title":"ğŸ“± Frontend (Mobile)","text":"TecnologÃ­a Uso Flutter Framework multiplataforma Riverpod State management Clean Architecture PatrÃ³n arquitectÃ³nico GraphQL API Client Freezed Modelos inmutables","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/architecture/technologies/#backend","level":2,"title":"âš™ï¸ Backend","text":"TecnologÃ­a Uso NestJS Framework Node.js GraphQL API con Apollo Server PostgreSQL Base de datos principal Valkey Cache y queues (Redis-compatible) Prisma ORM","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/architecture/technologies/#infraestructura-ovhcloud","level":2,"title":"â˜ï¸ Infraestructura (OVHCloud)","text":"TecnologÃ­a Uso OVHCloud Kubernetes OrquestaciÃ³n (QA/Stage/Prod) OVH Managed PostgreSQL Base de datos gestionada Valkey Cache (Redis-compatible) Terraform/OpenTofu IaC GitHub Actions CI/CD OVHCloud Monitoring Observabilidad","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/architecture/technologies/#pagos-latam_payments","level":2,"title":"ğŸ” Pagos (latam_payments)","text":"<p>El paquete <code>latam_payments</code> implementa una interfaz unificada para procesadores de pago regionales:</p> PaÃ­s Gateways MÃ©todos ğŸ‡¨ğŸ‡· Costa Rica OnvoPay, Tilopay Cards, SINPE ğŸ‡¨ğŸ‡´ Colombia Wompi Cards, PSE, Nequi ğŸ‡²ğŸ‡½ Mexico OpenPay, Conekta Cards, SPEI, OXXO ğŸ‡§ğŸ‡· Brazil Mercado Pago Cards, PIX, Boleto","path":["ğŸ—ï¸ Arquitectura","ğŸ› ï¸ TecnologÃ­as"],"tags":[]},{"location":"docs/backend/","level":1,"title":"Backend API","text":"<p>AltruPets Backend es una API GraphQL construida con NestJS 11 y Express 5.</p>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#informacion-general","level":2,"title":"InformaciÃ³n General","text":"Propiedad Valor Framework NestJS 11 Runtime Node.js 20 API GraphQL (Apollo Server 5.x) + REST Base URL <code>/graphql</code>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#endpoints","level":2,"title":"Endpoints","text":"","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#graphql","level":3,"title":"GraphQL","text":"<pre><code>POST /graphql\nContent-Type: application/json\n</code></pre>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#rest","level":3,"title":"REST","text":"Endpoint MÃ©todo DescripciÃ³n <code>/health</code> GET Health check <code>/login</code> GET/POST Login web <code>/logout</code> POST Logout web <code>/admin/*</code> GET Panel admin (Inertia) <code>/b2g/*</code> GET Panel B2G (Inertia)","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#autenticacion","level":2,"title":"AutenticaciÃ³n","text":"<p>La API usa JWT con passport-jwt.</p>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#headers-requeridos","level":3,"title":"Headers requeridos","text":"<pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#login","level":3,"title":"Login","text":"<pre><code>mutation Login($input: LoginInput!) {\n  login(loginInput: $input) {\n    access_token\n    expires_in\n  }\n}\n</code></pre> <p>Variables: <pre><code>{\n  \"input\": {\n    \"username\": \"usuario\",\n    \"password\": \"contraseÃ±a\"\n  }\n}\n</code></pre></p>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#queries","level":2,"title":"Queries","text":"Query DescripciÃ³n Auth <code>users</code> Lista usuarios Admin <code>user(id)</code> Usuario por ID Admin <code>currentUser</code> Usuario autenticado JWT <code>profile</code> Perfil del usuario JWT <code>searchOrganizations</code> Buscar organizaciones PÃºblico <code>getCaptureRequests</code> Lista de capturas Autenticado","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#mutations","level":2,"title":"Mutations","text":"Mutation DescripciÃ³n Auth <code>register</code> Registrar usuario PÃºblico <code>login</code> Autenticar usuario PÃºblico <code>createUser</code> Crear usuario Admin <code>updateUser</code> Actualizar usuario Admin <code>deleteUser</code> Eliminar usuario Admin <code>updateUserProfile</code> Actualizar perfil JWT <code>createCaptureRequest</code> Crear captura PÃºblico","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#ejemplos","level":2,"title":"Ejemplos","text":"","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#obtener-usuario-actual","level":3,"title":"Obtener usuario actual","text":"<pre><code>query {\n  currentUser {\n    id\n    username\n    email\n    roles\n  }\n}\n</code></pre>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#crear-captura","level":3,"title":"Crear captura","text":"<pre><code>mutation CreateCapture($input: CreateCaptureInput!) {\n  createCaptureRequest(input: $input) {\n    id\n    imageUrl\n    latitude\n    longitude\n  }\n}\n</code></pre>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#errores","level":2,"title":"Errores","text":"<p>Los errores siguen el formato estÃ¡ndar de GraphQL:</p> <pre><code>{\n  \"errors\": [\n    {\n      \"message\": \"Error description\",\n      \"path\": [\"mutationName\"],\n      \"extensions\": {\n        \"code\": \"ERROR_CODE\"\n      }\n    }\n  ]\n}\n</code></pre>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#codigos-de-error-comunes","level":3,"title":"CÃ³digos de error comunes","text":"CÃ³digo DescripciÃ³n <code>GRAPHQL_VALIDATION_FAILED</code> Error de validaciÃ³n <code>UNAUTHENTICATED</code> Token faltante o invÃ¡lido <code>FORBIDDEN</code> Permisos insuficientes <code>INTERNAL_SERVER_ERROR</code> Error del servidor","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#rate-limiting","level":2,"title":"Rate Limiting","text":"<p>Actualmente no implementado. Planificado para v1.1.0.</p>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/#mas-informacion","level":2,"title":"MÃ¡s informaciÃ³n","text":"<p>Ver API Reference completo para detalles de cada operaciÃ³n.</p>","path":["ğŸ–¥ï¸ Backend","Backend API"],"tags":[]},{"location":"docs/backend/auth/","level":1,"title":"AutenticaciÃ³n","text":"<p>El backend utiliza JWT (JSON Web Tokens) para autenticaciÃ³n.</p>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#flujo-de-autenticacion","level":2,"title":"Flujo de AutenticaciÃ³n","text":"<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST /graphql          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Cliente   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   Backend   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    {login mutation}        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                        â”‚\n                        â–¼\n                 { access_token }\n                        â”‚\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â”‚                               â”‚\n        â–¼                               â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ GraphQL Query â”‚              â”‚  REST Call    â”‚\nâ”‚ Authorization â”‚              â”‚ Authorization â”‚\nâ”‚ Bearer &lt;jwt&gt;  â”‚              â”‚ Bearer &lt;jwt&gt;  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#login","level":2,"title":"Login","text":"","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#graphql","level":3,"title":"GraphQL","text":"<pre><code>mutation Login($username: String!, $password: String!) {\n  login(loginInput: { username: $username, password: $password }) {\n    access_token\n    expires_in\n  }\n}\n</code></pre>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#rest-web","level":3,"title":"REST (Web)","text":"<pre><code>POST /login\nContent-Type: application/json\n\n{\n  \"username\": \"usuario\",\n  \"password\": \"contraseÃ±a\"\n}\n</code></pre>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#uso-del-token","level":2,"title":"Uso del Token","text":"<p>Incluir en headers:</p> <pre><code>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#roles","level":2,"title":"Roles","text":"Rol DescripciÃ³n <code>SUPER_USER</code> Acceso total <code>GOVERNMENT_ADMIN</code> Admin gubernamental <code>WATCHER</code> Solo lectura","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#expiracion","level":2,"title":"ExpiraciÃ³n","text":"<ul> <li>Token expira en 1 hora</li> <li>Refresh token disponible para renovaciÃ³n</li> </ul>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/backend/auth/#almacenamiento-seguro","level":2,"title":"Almacenamiento Seguro","text":"<ul> <li>Tokens almacenados en httpOnly cookies (web)</li> <li>AsyncStorage con encriptaciÃ³n (mobile)</li> <li>Nunca en localStorage</li> </ul>","path":["ğŸ–¥ï¸ Backend","AutenticaciÃ³n"],"tags":[]},{"location":"docs/deployment/cicd/","level":1,"title":"ğŸš€ CI/CD","text":"","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/cicd/#github-actions","level":2,"title":"GitHub Actions","text":"<p>El proyecto utiliza GitHub Actions para CI/CD con despliegue en OVHCloud.</p>","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/cicd/#pipelines","level":3,"title":"Pipelines","text":"Pipeline Trigger Entorno <code>ci-build-push.yml</code> Push a main Build imÃ¡genes <code>deploy-qa.yml</code> Push a main QA (OVHCloud) <code>deploy-staging.yml</code> Manual STAGING (OVHCloud) <code>deploy-prod.yml</code> PR a production PROD (OVHCloud)","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/cicd/#flujo-de-deploy","level":3,"title":"Flujo de Deploy","text":"<pre><code>main â†’ QA (auto) â†’ STAGING (manual) â†’ PROD (PR + approvals)\n</code></pre>","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/cicd/#secrets-requeridos","level":3,"title":"Secrets Requeridos","text":"<pre><code>OVH_QA_KUBECONFIG       # Kubeconfig para QA\nOVH_STAGING_KUBECONFIG  # Kubeconfig para Staging\nOVH_PROD_KUBECONFIG     # Kubeconfig para Production\nQA_POSTGRES_PASSWORD\nSTAGING_POSTGRES_PASSWORD\n</code></pre>","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/cicd/#ambientes-github","level":3,"title":"Ambientes GitHub","text":"<ul> <li>qa: Auto-deploy desde main</li> <li>staging: Deploy manual</li> <li>production: Requiere 2 approvals</li> </ul>","path":["ğŸš€ Despliegue","ğŸš€ CI/CD"],"tags":[]},{"location":"docs/deployment/harbor/","level":1,"title":"Harbor Registry","text":"","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#que-es-harbor","level":2,"title":"Â¿QuÃ© es Harbor?","text":"<p>Harbor es un registry de contenedores open source (CNCF Graduated) que proporciona:</p> <ul> <li>Docker Registry privado</li> <li>Helm Chart repository</li> <li>Vulnerability scanning (Trivy integrado)</li> <li>RBAC (Role-Based Access Control)</li> <li>Replication a otros registries</li> <li>Image signing (Notary)</li> <li>Web UI</li> </ul>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#instalacion-en-dev","level":2,"title":"InstalaciÃ³n en DEV","text":"<pre><code>make dev-harbor-deploy\n</code></pre> <p>Esto instala Harbor via Helm en Minikube con NodePort.</p>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#acceso","level":2,"title":"Acceso","text":"Campo Valor URL https://localhost:30003 Username admin Password Harbor12345","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#configurar-dockerpodman","level":2,"title":"Configurar Docker/Podman","text":"","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#1-confiar-en-el-certificado","level":3,"title":"1. Confiar en el certificado","text":"<pre><code># Crear directorio de certificados\nsudo mkdir -p /etc/docker/certs.d/localhost:30003\n\n# Obtener certificado de Harbor\nkubectl get secret -n harbor harbor-ingress -o jsonpath='{.data.ca\\.crt}' | base64 -d | sudo tee /etc/docker/certs.d/localhost:30003/ca.crt\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#2-login","level":3,"title":"2. Login","text":"<pre><code># Podman\necho 'Harbor12345' | podman login localhost:30003 -u admin --password-stdin\n\n# Docker\necho 'Harbor12345' | docker login localhost:30003 -u admin --password-stdin\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#push-de-imagenes","level":2,"title":"Push de ImÃ¡genes","text":"","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#taggear-imagen","level":3,"title":"Taggear imagen","text":"<pre><code># Backend\npodman tag localhost/altrupets-backend:dev localhost:30003/altrupets/backend:dev\n\n# Web apps\npodman tag localhost/altrupets-web-superusers:dev localhost:30003/altrupets/web-superusers:dev\npodman tag localhost/altrupets-web-b2g:dev localhost:30003/altrupets/web-b2g:dev\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#push","level":3,"title":"Push","text":"<pre><code>podman push localhost:30003/altrupets/backend:dev\npodman push localhost:30003/altrupets/web-superusers:dev\npodman push localhost:30003/altrupets/web-b2g:dev\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#proyectos","level":2,"title":"Proyectos","text":"<p>Por defecto, Harbor crea un proyecto <code>library</code>. Crea proyectos para organizar:</p> <pre><code># Via CLI\ncurl -X POST \"https://localhost:30003/api/v2.0/projects\" \\\n  -u \"admin:Harbor12345\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"project_name\": \"altrupets\", \"public\": false}'\n</code></pre> <p>O via Web UI: Projects â†’ New Project</p>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#configurar-kubernetes","level":2,"title":"Configurar Kubernetes","text":"<p>Para que Minikube pueda pull de Harbor:</p> <pre><code># Crear secret de Docker registry\nkubectl create secret docker-registry harbor-registry \\\n  --docker-server=localhost:30003 \\\n  --docker-username=admin \\\n  --docker-password=Harbor12345 \\\n  -n altrupets-dev\n\n# Patchear service account\nkubectl patch serviceaccount default -n altrupets-dev \\\n  -p '{\"imagePullSecrets\": [{\"name\": \"harbor-registry\"}]}'\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#vulnerability-scanning","level":2,"title":"Vulnerability Scanning","text":"<p>Harbor incluye Trivy para escaneo automÃ¡tico:</p> <ol> <li>Push una imagen</li> <li>Harbor escanea automÃ¡ticamente</li> <li>Ver resultados en Web UI â†’ Project â†’ Repositories â†’ Tag</li> </ol>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#harbor-vs-security-scanner","level":3,"title":"Harbor vs Security Scanner","text":"<p>El proyecto tiene dos herramientas de escaneo de vulnerabilidades que son complementarias, no redundantes:</p> Aspecto Security Scanner Harbor Trivy CuÃ¡ndo escanea Antes del push (CI/CD) DespuÃ©s del push (Registry) QuÃ© escanea CÃ³digo, dependencias, IaC, imÃ¡genes Solo imÃ¡genes UbicaciÃ³n Kubernetes Job/CronJob Integrado en Harbor PropÃ³sito Pre-push, shift-left Post-push, defense-in-depth Herramientas Trivy, tfsec, checkov, trufflehog, bandit, safety Trivy <p>Flujo de seguridad recomendado:</p> <pre><code>flowchart TB\n    subgraph Dev[\"1. Development\"]\n        IDE[\"dart analyze&lt;br/&gt;eslint\"]\n    end\n\n    subgraph CI[\"2. Pre-commit / CI\"]\n        Scan[\"make dev-security-scan\"]\n        Trivy[\"Trivy&lt;br/&gt;filesystem\"]\n        Tfsec[\"tfsec&lt;br/&gt;Terraform\"]\n        Checkov[\"checkov&lt;br/&gt;IaC\"]\n        Trufflehog[\"trufflehog&lt;br/&gt;secrets\"]\n        Bandit[\"bandit&lt;br/&gt;Python SAST\"]\n        Safety[\"safety&lt;br/&gt;Python deps\"]\n\n        Scan --&gt; Trivy\n        Scan --&gt; Tfsec\n        Scan --&gt; Checkov\n        Scan --&gt; Trufflehog\n        Scan --&gt; Bandit\n        Scan --&gt; Safety\n    end\n\n    subgraph Registry[\"3. Container Registry (Harbor)\"]\n        Harbor[\"Harbor Trivy&lt;br/&gt;automatic on push\"]\n        Block[\"Block critical&lt;br/&gt;vulnerabilities\"]\n\n        Harbor --&gt; Block\n    end\n\n    subgraph Runtime[\"4. Runtime (Production)\"]\n        K8s[\"Kubernetes&lt;br/&gt;security policies\"]\n    end\n\n    Dev --&gt; CI\n    CI --&gt; Registry\n    Registry --&gt; Runtime</code></pre> <p>Beneficio: Vulnerabilidades detectadas en paso 2 nunca llegan al paso 3.</p>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#comparacion-con-alternativas","level":2,"title":"ComparaciÃ³n con Alternativas","text":"Feature Harbor GHCR Docker Registry 2 Costo GRATIS 500MB gratis GRATIS Docker Registry âœ… âœ… âœ… Helm Charts âœ… âŒ âŒ Vulnerability Scan âœ… Trivy âœ… Dependabot âŒ RBAC âœ… âœ… âŒ UI Web âœ… âœ… âŒ On-premise âœ… âŒ âœ…","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#comandos-makefile","level":2,"title":"Comandos Makefile","text":"<pre><code>make dev-harbor-deploy    # Desplegar Harbor\nmake dev-harbor-destroy   # Eliminar Harbor\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#error-x509-certificate-signed-by-unknown-authority","level":3,"title":"Error: x509: certificate signed by unknown authority","text":"<pre><code># Agregar certificado al trust store\nsudo cp /etc/docker/certs.d/localhost:30003/ca.crt /usr/local/share/ca-certificates/harbor.crt\nsudo update-ca-certificates\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#error-connection-refused","level":3,"title":"Error: connection refused","text":"<p>Verificar que Harbor estÃ© corriendo:</p> <pre><code>kubectl get pods -n harbor\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#reiniciar-harbor","level":3,"title":"Reiniciar Harbor","text":"<pre><code>kubectl rollout restart deployment -n harbor\n</code></pre>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/harbor/#referencias","level":2,"title":"Referencias","text":"<ul> <li>Harbor Documentation</li> <li>Harbor Helm Chart</li> <li>Trivy Scanner</li> </ul>","path":["ğŸš€ Despliegue","Harbor Registry"],"tags":[]},{"location":"docs/deployment/kubernetes/","level":1,"title":"Kubernetes","text":"","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#arquitectura-de-despliegue","level":2,"title":"Arquitectura de Despliegue","text":"<p>AltruPets se despliega en OVHCloud Managed Kubernetes para QA, STAGING y PROD.</p> <pre><code>flowchart TB\n    NGINX[NGINX Gateway] --&gt; Backend1[Backend]\n    NGINX --&gt; Backend2[Backend]\n    NGINX --&gt; Backend3[Backend]\n\n    Backend1 --&gt; PG[(PostgreSQL)]\n    Backend2 --&gt; PG\n    Backend3 --&gt; PG\n\n    Backend1 --&gt; Valkey[(Valkey)]\n    Backend2 --&gt; Valkey\n    Backend3 --&gt; Valkey</code></pre>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#flujos-de-deployment","level":2,"title":"Flujos de Deployment","text":"","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#manual-sin-argocd","level":3,"title":"Manual (sin ArgoCD)","text":"<p>Para desarrollo local con Minikube:</p> <pre><code>make setup &amp;&amp; make dev-minikube-deploy &amp;&amp; make dev-terraform-deploy &amp;&amp; \\\nmake dev-images-build &amp;&amp; make dev-backend-tf-deploy &amp;&amp; \\\nmake dev-superusers-tf-deploy &amp;&amp; make dev-b2g-tf-deploy &amp;&amp; make dev-gateway-start\n</code></pre>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#gitops-con-argocd","level":3,"title":"GitOps (con ArgoCD)","text":"<p>Para ambientes QA, Staging y Production:</p> <pre><code>make setup &amp;&amp; make dev-minikube-deploy &amp;&amp; make dev-terraform-deploy &amp;&amp; \\\nmake dev-images-build &amp;&amp; make dev-argocd-deploy &amp;&amp; make dev-gateway-start\n</code></pre>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#kustomize-structure","level":2,"title":"Kustomize Structure","text":"<pre><code>k8s/\nâ”œâ”€â”€ base/          # Manifiestos base\nâ”œâ”€â”€ overlays/      # Environments overrides\nâ”‚   â””â”€â”€ dev/      # Dev environment\nâ””â”€â”€ argocd/      # ArgoCD applications\n</code></pre>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#targets-de-deploy","level":3,"title":"Targets de Deploy","text":"Target DescripciÃ³n Path <code>dev-backend-tf-deploy</code> Backend API <code>k8s/overlays/dev/backend</code> <code>dev-superusers-tf-deploy</code> CRUD Superusers <code>k8s/overlays/dev/web-superusers</code> <code>dev-b2g-tf-deploy</code> B2G Frontend <code>k8s/overlays/dev/web-b2g</code>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#entornos","level":2,"title":"Entornos","text":"Entorno PropÃ³sito Kubeconfig Secret DEV Local Minikube N/A (local) QA Ephemeral testing <code>OVH_QA_KUBECONFIG</code> STAGING Pre-production <code>OVH_STAGING_KUBECONFIG</code> PROD Production <code>OVH_PROD_KUBECONFIG</code>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#comandos-utiles","level":2,"title":"Comandos Ãštiles","text":"<pre><code># Ver pods\nkubectl get pods -n altrupets-dev\n\n# Ver servicios\nkubectl get services -n altrupets-dev\n\n# Logs\nkubectl logs -f deployment/backend -n altrupets-dev\n\n# Escalar\nkubectl scale deployment/backend --replicas=3 -n altrupets-dev\n\n# Aplicar manifiestos manualmente\nkubectl apply -k k8s/overlays/dev/backend\n</code></pre>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/kubernetes/#ovh-managed-postgresql","level":2,"title":"OVH Managed PostgreSQL","text":"<p>ProducciÃ³n utiliza OVH Managed PostgreSQL en lugar de PostgreSQL self-managed: - Alta disponibilidad - Backups automÃ¡ticos - SSL habilitado</p>","path":["ğŸš€ Despliegue","Kubernetes"],"tags":[]},{"location":"docs/deployment/secrets/","level":1,"title":"Secrets con Infisical","text":"<p>AltruPets utiliza Infisical para gestiÃ³n centralizada de secrets.</p>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#por-que-infisical","level":2,"title":"Por quÃ© Infisical","text":"<ul> <li>Cloud-agnostic (funciona en Minikube, OVHCloud, AWS)</li> <li>SincronizaciÃ³n automÃ¡tica a Kubernetes</li> <li>IntegraciÃ³n con Terraform y CLI</li> <li>Open source con opciÃ³n cloud</li> </ul>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#1-login","level":3,"title":"1. Login","text":"<pre><code>infisical login\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#2-sincronizar-secrets","level":3,"title":"2. Sincronizar secrets","text":"<pre><code>make dev-infisical-sync-cli\n</code></pre> <p>O manualmente:</p> <pre><code>infisical export --env=dev --projectId &lt;PROJECT_ID&gt; --format=json | \\\n  jq -r '.[] | \"\\(.key)=\\(.value)\"' &gt; secrets.env\n\nkubectl create secret generic backend-secret \\\n  --from-env-file=secrets.env \\\n  -n altrupets-dev \\\n  --dry-run=client -o yaml | kubectl apply -f -\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#secrets-sincronizados","level":2,"title":"Secrets sincronizados","text":"Secret DescripciÃ³n <code>DB_HOST</code> Host de PostgreSQL <code>DB_USERNAME</code> Usuario de BD <code>DB_PASSWORD</code> ContraseÃ±a de BD <code>DB_NAME</code> Nombre de BD <code>JWT_SECRET</code> Secret para JWT <code>SEED_ADMIN_USERNAME</code> Usuario admin inicial <code>SEED_ADMIN_PASSWORD</code> ContraseÃ±a admin inicial","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#estructura-en-infisical","level":2,"title":"Estructura en Infisical","text":"<pre><code>Project: altrupets-monorepo\nâ”œâ”€â”€ Environment: dev\nâ”‚   â””â”€â”€ Secrets: DB_*, JWT_SECRET, SEED_ADMIN_*\nâ”œâ”€â”€ Environment: qa\nâ”‚   â””â”€â”€ Secrets: ...\nâ”œâ”€â”€ Environment: staging\nâ”‚   â””â”€â”€ Secrets: ...\nâ””â”€â”€ Environment: prod\n    â””â”€â”€ Secrets: ...\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#script-de-sincronizacion","level":2,"title":"Script de sincronizaciÃ³n","text":"<pre><code># Usar el script incluido\n./infrastructure/scripts/infisical-sync.sh --cli\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#secrets-no-sincronizados","level":3,"title":"Secrets no sincronizados","text":"<pre><code># Verificar login\ninfisical user\n\n# Exportar manualmente\ninfisical export --env=dev --projectId &lt;ID&gt;\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#secret-desactualizado-en-kubernetes","level":3,"title":"Secret desactualizado en Kubernetes","text":"<pre><code># Forzar resincronizaciÃ³n\nmake dev-infisical-sync-cli\n\n# Reiniciar pods\nkubectl rollout restart deployment/backend -n altrupets-dev\n</code></pre>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/secrets/#seguridad","level":2,"title":"Seguridad","text":"<ul> <li>Tokens con permisos mÃ­nimos</li> <li>IP whitelist en Cloudflare API tokens</li> <li>Secrets rotados cada 90 dÃ­as</li> <li>AuditorÃ­a en Infisical dashboard</li> </ul>","path":["ğŸš€ Despliegue","Secrets con Infisical"],"tags":[]},{"location":"docs/deployment/tls/","level":1,"title":"TLS/HTTPS","text":"<p>AltruPets utiliza Let's Encrypt para certificados TLS automÃ¡ticos.</p>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#arquitectura","level":2,"title":"Arquitectura","text":"<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Cloudflare    â”‚ DNS Provider\nâ”‚   (DNS-01)      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚\n         â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  cert-manager   â”‚ GestiÃ³n de certificados\nâ”‚  (Kubernetes)   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚\n         â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ NGINX Gateway   â”‚ TLS Termination\nâ”‚    Fabric       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#componentes","level":2,"title":"Componentes","text":"","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#cert-manager","level":3,"title":"cert-manager","text":"<pre><code># InstalaciÃ³n\nhelm install cert-manager jetstack/cert-manager \\\n  --namespace cert-manager \\\n  --create-namespace \\\n  --set crds.enabled=true\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#clusterissuers","level":3,"title":"ClusterIssuers","text":"Issuer Uso <code>letsencrypt-staging</code> Desarrollo, pruebas <code>letsencrypt-prod</code> ProducciÃ³n","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#certificate","level":3,"title":"Certificate","text":"<pre><code>apiVersion: cert-manager.io/v1\nkind: Certificate\nmetadata:\n  name: altrupets-app-tls\nspec:\n  secretName: altrupets-app-tls\n  issuerRef:\n    name: letsencrypt-staging  # o letsencrypt-prod\n    kind: ClusterIssuer\n  dnsNames:\n    - altrupets.app\n    - \"*.altrupets.app\"\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#variables-requeridas","level":3,"title":"Variables requeridas","text":"Variable DescripciÃ³n <code>CLOUDFLARE_API_TOKEN</code> Token con permisos DNS edit <code>CLOUDFLARE_ZONE_ID</code> ID de la zona en Cloudflare","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#terraform","level":3,"title":"Terraform","text":"<pre><code>module \"cert_manager\" {\n  source = \"../../modules/kubernetes/cert-manager\"\n\n  environment           = \"dev\"\n  namespace             = \"altrupets-dev\"\n  domain_name           = \"altrupets.app\"\n  acme_email            = \"altrupets.workspace@gmail.com\"\n  cloudflare_api_token  = var.cloudflare_api_token\n}\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#validacion-dns-01","level":2,"title":"ValidaciÃ³n DNS-01","text":"<ol> <li>cert-manager crea registro TXT en <code>_acme-challenge.altrupets.app</code></li> <li>Let's Encrypt valida el registro</li> <li>cert-manager emite el certificado</li> <li>Secret creado en <code>altrupets-app-tls</code></li> </ol>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#ambientes","level":2,"title":"Ambientes","text":"Ambiente Issuer Dominio DEV staging localhost (sin TLS) QA staging qa.altrupets.app STAGING prod staging.altrupets.app PROD prod altrupets.app","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#certificate-pending","level":3,"title":"Certificate pending","text":"<pre><code>kubectl describe certificate altrupets-app-tls -n altrupets-dev\nkubectl get challenge -n altrupets-dev\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#dns-propagation","level":3,"title":"DNS propagation","text":"<pre><code>dig TXT _acme-challenge.altrupets.app @1.1.1.1\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#logs","level":3,"title":"Logs","text":"<pre><code>kubectl logs -n cert-manager deployment/cert-manager\n</code></pre>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#renovacion","level":2,"title":"RenovaciÃ³n","text":"<p>Los certificados se renuevan automÃ¡ticamente 30 dÃ­as antes de expirar.</p>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/deployment/tls/#rate-limits","level":2,"title":"Rate Limits","text":"<p>Let's Encrypt tiene lÃ­mites: - Staging: sin lÃ­mite estricto - Production: 50 certificados/semana por dominio</p> <p>Usar staging para desarrollo.</p>","path":["ğŸš€ Despliegue","TLS/HTTPS"],"tags":[]},{"location":"docs/development/local-setup/","level":1,"title":"ğŸ’» Desarrollo Local","text":"","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#quick-start","level":2,"title":"Quick Start","text":"<pre><code># Clonar repositorio\ngit clone https://github.com/altrupets/altrupets-monorepo.git\ncd altrupets-monorepo\n\n# Instalar dependencias\ncd apps/mobile &amp;&amp; flutter pub get\ncd apps/backend &amp;&amp; npm install\n\n# Ejecutar desarrollo\nflutter run\nnpm run start:dev\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#minikube-desarrollo-local-con-kubernetes","level":2,"title":"Minikube (Desarrollo Local con Kubernetes)","text":"","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#configuracion-obligatoria","level":3,"title":"ConfiguraciÃ³n Obligatoria","text":"<p>Minikube debe configurarse con Podman driver y containerd runtime:</p> <pre><code># Instalar Podman\nsudo apt install podman\n\n# Configurar modo rootless\nminikube config set rootless true\n\n# Iniciar cluster\nminikube start --driver=podman --container-runtime=containerd\n\n# Verificar\nminikube status\nkubectl get nodes\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#por-que-podman-containerd","level":3,"title":"Â¿Por quÃ© Podman + containerd?","text":"Driver Problema Docker Crea archivos <code>.csm_*</code> y <code>.s3_*</code> con permisos de root Podman (rootless) + containerd Sin archivos huÃ©rfanos, sin sudo","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#deploy-local","level":3,"title":"Deploy Local","text":"<pre><code># Deploy completo\nmake dev-minikube-deploy\n\n# Deploy de micro-frontends\nmake dev-superusers-deploy\nmake dev-b2g-deploy\n\n# Ver servicios\nkubectl get pods -n altrupets-dev\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"<p>Ver InstalaciÃ³n y ConfiguraciÃ³n</p>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#error-de-dependencias","level":3,"title":"Error de dependencias","text":"<pre><code># Limpiar cache de Flutter\nflutter clean\nflutter pub get\n\n# Reinstalar node_modules\nrm -rf node_modules\nnpm install\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/local-setup/#archivos-huerfanos-de-minikube","level":3,"title":"Archivos huÃ©rfanos de Minikube","text":"<p>Si aparecen archivos <code>.csm_*</code> o <code>.s3_*</code> con permisos de root:</p> <pre><code># Eliminar archivos huÃ©rfanos\nsudo rm -f .csm_* .s3_*\n\n# Reiniciar Minikube con configuraciÃ³n correcta\nminikube delete\nminikube config set rootless true\nminikube start --driver=podman --container-runtime=containerd\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ’» Desarrollo Local"],"tags":[]},{"location":"docs/development/structure/","level":1,"title":"ğŸ“‚ Estructura del Proyecto","text":"<pre><code>altrupets-monorepo/\nâ”œâ”€â”€ apps/\nâ”‚   â”œâ”€â”€ backend/           # NestJS + GraphQL\nâ”‚   â”‚   â””â”€â”€ src/\nâ”‚   â”‚       â”œâ”€â”€ modules/  # MÃ³dulos por dominio\nâ”‚   â”‚       â”œâ”€â”€ common/   # Componentes compartidos\nâ”‚   â”‚       â””â”€â”€ config/   # ConfiguraciÃ³n\nâ”‚   â””â”€â”€ mobile/           # Flutter\nâ”‚       â”œâ”€â”€ lib/\nâ”‚       â”‚   â”œâ”€â”€ core/    # CÃ³digo compartido\nâ”‚       â”‚   â”‚   â””â”€â”€ payments/  # ğŸŸ¢ Paquete de pagos\nâ”‚       â”‚   â”œâ”€â”€ features/ # Features\nâ”‚       â”‚   â””â”€â”€ shared/   # Utilidades\nâ”‚       â””â”€â”€ test/        # Tests\nâ”œâ”€â”€ docs/                 # DocumentaciÃ³n MkDocs\nâ”‚   â””â”€â”€ content/\nâ”œâ”€â”€ infrastructure/       # Terraform\nâ”œâ”€â”€ skills/              # Agent Skills\nâ””â”€â”€ .github/\n    â””â”€â”€ workflows/       # CI/CD\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ“‚ Estructura del Proyecto"],"tags":[]},{"location":"docs/development/testing/","level":1,"title":"ğŸ§ª Testing","text":"","path":["ğŸ’» Desarrollo","ğŸ§ª Testing"],"tags":[]},{"location":"docs/development/testing/#flutter-tests","level":2,"title":"Flutter Tests","text":"<pre><code># Unit tests\ncd apps/mobile\nflutter test\n\n# Integration tests\nflutter test integration_test/\n\n# Coverage\nflutter test --coverage\ngenhtml coverage/lcov.info -o coverage/html\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ§ª Testing"],"tags":[]},{"location":"docs/development/testing/#backend-tests","level":2,"title":"Backend Tests","text":"<pre><code>cd apps/backend\nnpm test\n\n# Watch mode\nnpm run test:watch\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ§ª Testing"],"tags":[]},{"location":"docs/development/testing/#e2e-tests","level":2,"title":"E2E Tests","text":"<pre><code># Cypress (si aplica)\nnpm run e2e\n</code></pre>","path":["ğŸ’» Desarrollo","ğŸ§ª Testing"],"tags":[]},{"location":"docs/getting-started/installation/","level":1,"title":"ğŸš€ InstalaciÃ³n","text":"","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#prerrequisitos","level":2,"title":"Prerrequisitos","text":"","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#software-requerido","level":3,"title":"Software Requerido","text":"<ul> <li>Flutter 3.x+</li> <li>Dart 3.x+</li> <li>Node.js 18+</li> <li>Docker y Docker Compose</li> <li>AWS CLI (para desarrollo cloud)</li> <li>Terraform 1.x</li> </ul>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#instalacion-de-flutter","level":3,"title":"InstalaciÃ³n de Flutter","text":"<pre><code># macOS/Linux\ngit clone https://github.com/flutter/flutter.git -d stable\nexport PATH=\"$PATH:$HOME/flutter/bin\"\n\n# Verificar instalaciÃ³n\nflutter --version\n</code></pre>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#instalacion-de-dependencias","level":3,"title":"InstalaciÃ³n de Dependencias","text":"<pre><code># Instalar Flutter dependencies\ncd apps/mobile\nflutter pub get\n\n# Instalar Node.js dependencies\ncd apps/backend\nnpm install\n</code></pre>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#configuracion-de-ide","level":2,"title":"ConfiguraciÃ³n de IDE","text":"","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#vs-code","level":3,"title":"VS Code","text":"<p>Extensiones recomendadas: - Flutter - Dart - Docker - YAML - GitLens</p>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#intellij-idea-webstorm","level":3,"title":"IntelliJ IDEA / WebStorm","text":"<ul> <li>Flutter plugin</li> <li>Dart plugin</li> </ul>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/installation/#proximo-paso","level":2,"title":"PrÃ³ximo Paso","text":"<p>ConfiguraciÃ³n inicial â†’</p>","path":["ğŸš€ Empezar","ğŸš€ InstalaciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/","level":1,"title":"âš™ï¸ ConfiguraciÃ³n","text":"","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#variables-de-entorno","level":2,"title":"Variables de Entorno","text":"","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#archivo-env","level":3,"title":"Archivo .env","text":"<p>Crea un archivo <code>.env</code> en la raÃ­z del proyecto:</p> <pre><code>cp .env.example .env\n</code></pre>","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#variables-requeridas","level":3,"title":"Variables Requeridas","text":"<pre><code># Backend\nDATABASE_URL=postgresql://user:pass@localhost:5432/altrupets\nREDIS_URL=redis://localhost:6379\nJWT_SECRET=your-secret-key\n\n# Mobile\nAPI_URL=https://api.altrupets.com\nENVIRONMENT=development\n</code></pre>","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#configuracion-de-firebase","level":2,"title":"ConfiguraciÃ³n de Firebase","text":"<ol> <li>Crea un proyecto en Firebase Console</li> <li>Descarga <code>google-services.json</code> para Android</li> <li>Descarga <code>GoogleService-Info.plist</code> para iOS</li> </ol>","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#configuracion-de-aws-opcional","level":2,"title":"ConfiguraciÃ³n de AWS (Opcional)","text":"<pre><code># Configurar AWS CLI\naws configure\n\n# Configurar credenciales\nexport AWS_ACCESS_KEY_ID=your-key\nexport AWS_SECRET_ACCESS_KEY=your-secret\n</code></pre>","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/getting-started/setup/#ejecucion","level":2,"title":"EjecuciÃ³n","text":"<pre><code># Backend\ncd apps/backend\nnpm run start:dev\n\n# Mobile\ncd apps/mobile\nflutter run\n</code></pre>","path":["ğŸš€ Empezar","âš™ï¸ ConfiguraciÃ³n"],"tags":[]},{"location":"docs/mcp/","level":1,"title":"MCP Servers","text":"<p>Model Context Protocol (MCP) servers proporcionan capacidades especializadas para el desarrollo.</p>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#servidores-disponibles","level":2,"title":"Servidores Disponibles","text":"Servidor PropÃ³sito Comando context7 DocumentaciÃ³n tÃ©cnica <code>npx -y @upstash/context7-mcp</code> dart Flutter/Dart anÃ¡lisis <code>dart mcp-server</code> graphql GraphQL introspection <code>npx -y @apollographql/apollo-mcp-server</code> mobile-mcp GestiÃ³n de dispositivos <code>npx -y @mobilenext/mobile-mcp</code> stitch GeneraciÃ³n de UI <code>npx -y stitch-mcp</code>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"<p>Ver mcp.json en la raÃ­z del proyecto.</p>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#comandos-makefile","level":2,"title":"Comandos Makefile","text":"<pre><code>make dev-mcp-start    # Iniciar todos los MCP servers\nmake dev-mcp-stop     # Detener todos los MCP servers\nmake dev-mcp-status   # Ver estado de los servers\n</code></pre>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#requisitos","level":2,"title":"Requisitos","text":"<ul> <li>context7: API key en <code>CONTEXT7_API_KEY</code></li> <li>stitch: <code>gcloud auth application-default login</code></li> <li>dart: Dart SDK instalado</li> </ul>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#stitch-mcp-authentication-failed","level":3,"title":"stitch-mcp: Authentication failed","text":"<pre><code>gcloud auth application-default login\n</code></pre>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/#context7-api-key-expired","level":3,"title":"context7: API key expired","text":"<p>Regenerar API key en Upstash Context7</p>","path":["ğŸ”Œ MCP Servers","MCP Servers"],"tags":[]},{"location":"docs/mcp/setup/","level":1,"title":"MCP Setup Guide","text":"<p>GuÃ­a detallada de configuraciÃ³n de MCP servers.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#instalacion","level":2,"title":"InstalaciÃ³n","text":"<p>Los MCP servers se ejecutan via <code>npx</code> (Node.js) o binarios locales. No requieren instalaciÃ³n permanente.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#configuracion-individual","level":2,"title":"ConfiguraciÃ³n Individual","text":"","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#context7-documentacion","level":3,"title":"Context7 (DocumentaciÃ³n)","text":"<pre><code># Configurar API key\nexport CONTEXT7_API_KEY=\"ctx7sk-xxx\"\n\n# O en mcp.json\n{\n  \"mcpServers\": {\n    \"context7\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@upstash/context7-mcp\"],\n      \"env\": {\n        \"CONTEXT7_API_KEY\": \"ctx7sk-xxx\"\n      }\n    }\n  }\n}\n</code></pre> <p>Obtener API key: https://context7.com</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#dartflutter-mcp","level":3,"title":"Dart/Flutter MCP","text":"<pre><code># Requiere Dart SDK\ndart mcp-server --force-roots-fallback\n</code></pre>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#apollo-graphql-mcp","level":3,"title":"Apollo GraphQL MCP","text":"<pre><code>npx -y @apollographql/apollo-mcp-server\n</code></pre> <p>Nota: Requiere configuraciÃ³n de endpoint GraphQL.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#mobile-mcp","level":3,"title":"Mobile MCP","text":"<pre><code>npx -y @mobilenext/mobile-mcp@latest\n</code></pre> <p>GestiÃ³n de dispositivos Android/iOS para testing.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#stitch-mcp-ui-generation","level":3,"title":"Stitch MCP (UI Generation)","text":"<pre><code># AutenticaciÃ³n Google Cloud requerida\ngcloud auth application-default login\n\n# Ejecutar\nGOOGLE_CLOUD_PROJECT=\"your-project\" npx -y stitch-mcp\n</code></pre>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#integracion-con-ide","level":2,"title":"IntegraciÃ³n con IDE","text":"","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#claude-code","level":3,"title":"Claude Code","text":"<p>Claude Code lee automÃ¡ticamente <code>mcp.json</code> desde la raÃ­z del proyecto.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#cursor","level":3,"title":"Cursor","text":"<p>Configurar en <code>.cursor/mcp.json</code> con el mismo formato.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#vs-code-copilot","level":3,"title":"VS Code (Copilot)","text":"<p>Instalar extensiÃ³n MCP y apuntar a <code>mcp.json</code>.</p>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#logs-y-debugging","level":2,"title":"Logs y Debugging","text":"<pre><code># Ver logs de MCP servers\ntail -f /tmp/mcp-servers/*.log\n\n# Verificar procesos activos\nps aux | grep mcp\n</code></pre>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mcp/setup/#seguridad","level":2,"title":"Seguridad","text":"<ul> <li>Las API keys se almacenan en <code>mcp.json</code> (agregar a <code>.gitignore</code> para proyectos privados)</li> <li>Usar variables de entorno para credenciales sensibles</li> <li>Los PIDs se almacenan en <code>/tmp/mcp-servers/</code></li> </ul>","path":["ğŸ”Œ MCP Servers","MCP Setup Guide"],"tags":[]},{"location":"docs/mobile/","level":1,"title":"ğŸ“± AltruPets Mobile","text":"<p>AplicaciÃ³n mÃ³vil multiplataforma desarrollada con Flutter para conectar rescatistas de animales, organizaciones de protecciÃ³n animal y adoptantes en LatinoamÃ©rica.</p>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#vision-general","level":2,"title":"VisiÃ³n General","text":"<p>AltruPets Mobile es el cliente mÃ³vil del ecosistema AltruPets, diseÃ±ado con Clean Architecture y Riverpod para garantizar mantenibilidad, testabilidad y escalabilidad. La aplicaciÃ³n soporta operaciones offline-first, sincronizaciÃ³n en segundo plano y un sistema de pagos integrado para donaciones.</p>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#stack-tecnologico","level":2,"title":"Stack TecnolÃ³gico","text":"CategorÃ­a TecnologÃ­a VersiÃ³n PropÃ³sito Framework Flutter 3.10+ UI multiplataforma State Management Riverpod 2.5.1 GestiÃ³n de estado reactivo Arquitectura Clean Architecture - SeparaciÃ³n de concerns Inmutabilidad Freezed 2.4.1 Modelos inmutables y union types Networking GraphQL 5.1.2 ComunicaciÃ³n con backend HTTP Client Dio 5.4.0 Requests REST auxiliares Local Storage Hive + SQLite 2.2.3 / 2.3.3 Persistencia offline Secure Storage flutter_secure_storage 9.2.2 Tokens y datos sensibles GeolocalizaciÃ³n Geolocator 11.0.0 UbicaciÃ³n para rescates Functional Dartz 0.10.1 Either, Option para manejo de errores","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#estructura-del-proyecto","level":2,"title":"Estructura del Proyecto","text":"<pre><code>apps/mobile/\nâ”œâ”€â”€ lib/\nâ”‚   â”œâ”€â”€ core/                      # CÃ³digo compartido entre features\nâ”‚   â”‚   â”œâ”€â”€ auth/                  # Roles y permisos\nâ”‚   â”‚   â”‚   â””â”€â”€ roles/user_role.dart\nâ”‚   â”‚   â”œâ”€â”€ config/                # ConfiguraciÃ³n de entorno\nâ”‚   â”‚   â”‚   â””â”€â”€ environment_manager.dart\nâ”‚   â”‚   â”œâ”€â”€ error/                 # Manejo de errores\nâ”‚   â”‚   â”‚   â”œâ”€â”€ exceptions.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ failures.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ error_logging_observer.dart\nâ”‚   â”‚   â”œâ”€â”€ graphql/               # Cliente GraphQL\nâ”‚   â”‚   â”‚   â””â”€â”€ graphql_client.dart\nâ”‚   â”‚   â”œâ”€â”€ models/                # Modelos compartidos\nâ”‚   â”‚   â”‚   â”œâ”€â”€ user_model.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ organization_model.dart\nâ”‚   â”‚   â”œâ”€â”€ network/               # Capa de red\nâ”‚   â”‚   â”‚   â”œâ”€â”€ http_client_service.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ network_info.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ circuit_breaker.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ interceptors/\nâ”‚   â”‚   â”‚       â”œâ”€â”€ auth_interceptor.dart\nâ”‚   â”‚   â”‚       â”œâ”€â”€ error_interceptor.dart\nâ”‚   â”‚   â”‚       â”œâ”€â”€ logging_interceptor.dart\nâ”‚   â”‚   â”‚       â””â”€â”€ retry_interceptor.dart\nâ”‚   â”‚   â”œâ”€â”€ payments/              # SDK de pagos LATAM\nâ”‚   â”‚   â”‚   â”œâ”€â”€ latam_payments.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ domain/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ data/gateways/\nâ”‚   â”‚   â”‚   â””â”€â”€ services/\nâ”‚   â”‚   â”œâ”€â”€ providers/             # Providers globales\nâ”‚   â”‚   â”‚   â”œâ”€â”€ geolocation_provider.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ navigation_provider.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ registration_provider.dart\nâ”‚   â”‚   â”œâ”€â”€ services/              # Servicios de negocio\nâ”‚   â”‚   â”‚   â”œâ”€â”€ auth_service.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ geolocation_service.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ logging_service.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ onvo_pay_service.dart\nâ”‚   â”‚   â”œâ”€â”€ storage/               # Almacenamiento local\nâ”‚   â”‚   â”‚   â”œâ”€â”€ app_prefs_store.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ profile_cache_store.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ secure_storage_service.dart\nâ”‚   â”‚   â”œâ”€â”€ sync/                  # SincronizaciÃ³n offline\nâ”‚   â”‚   â”‚   â”œâ”€â”€ sync_status_provider.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ profile_update_queue_store.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ generic_sync_queue_store.dart\nâ”‚   â”‚   â”œâ”€â”€ theme/                 # Sistema de diseÃ±o\nâ”‚   â”‚   â”‚   â”œâ”€â”€ app_colors.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ app_theme.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ app_typography.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ app_motion.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ theme_provider.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ token_service.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ design_token_model.dart\nâ”‚   â”‚   â”œâ”€â”€ usecases/              # Base de use cases\nâ”‚   â”‚   â”‚   â””â”€â”€ usecase.dart\nâ”‚   â”‚   â”œâ”€â”€ utils/                 # Utilidades\nâ”‚   â”‚   â”‚   â””â”€â”€ constants.dart\nâ”‚   â”‚   â””â”€â”€ widgets/               # Widgets reutilizables (Atomic Design)\nâ”‚   â”‚       â”œâ”€â”€ atoms/\nâ”‚   â”‚       â”œâ”€â”€ molecules/\nâ”‚   â”‚       â””â”€â”€ organisms/\nâ”‚   â”‚\nâ”‚   â”œâ”€â”€ features/                  # Features por dominio\nâ”‚   â”‚   â”œâ”€â”€ auth/                  # AutenticaciÃ³n\nâ”‚   â”‚   â”œâ”€â”€ home/                  # Dashboard principal\nâ”‚   â”‚   â”œâ”€â”€ onboarding/            # Flujo de registro\nâ”‚   â”‚   â”œâ”€â”€ organizations/         # GestiÃ³n de organizaciones\nâ”‚   â”‚   â”œâ”€â”€ profile/               # Perfil de usuario\nâ”‚   â”‚   â”œâ”€â”€ rescues/               # CoordinaciÃ³n de rescates\nâ”‚   â”‚   â””â”€â”€ settings/              # ConfiguraciÃ³n\nâ”‚   â”‚\nâ”‚   â”œâ”€â”€ l10n/                      # InternacionalizaciÃ³n\nâ”‚   â”‚   â”œâ”€â”€ app_en.arb\nâ”‚   â”‚   â””â”€â”€ app_es.arb\nâ”‚   â”‚\nâ”‚   â””â”€â”€ main.dart                  # Entry point\nâ”‚\nâ”œâ”€â”€ assets/\nâ”‚   â”œâ”€â”€ fonts/                     # TipografÃ­as personalizadas\nâ”‚   â”‚   â”œâ”€â”€ lemon_milk/\nâ”‚   â”‚   â””â”€â”€ poppins/\nâ”‚   â””â”€â”€ style_dictionary/          # Design tokens exportados\nâ”‚\nâ”œâ”€â”€ test/                          # Tests unitarios y de widget\nâ””â”€â”€ pubspec.yaml\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#quick-start","level":2,"title":"Quick Start","text":"<pre><code># Clonar e instalar dependencias\ngit clone https://github.com/altrupets/monorepo.git\ncd monorepo/apps/mobile\nflutter pub get\n\n# Generar cÃ³digo (Freezed, JSON Serializable)\nflutter pub run build_runner build --delete-conflicting-outputs\n\n# Generar localizaciones\nflutter gen-l10n\n\n# Ejecutar\nflutter run\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#caracteristicas-principales","level":2,"title":"CaracterÃ­sticas Principales","text":"","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#autenticacion","level":3,"title":"ğŸ” AutenticaciÃ³n","text":"<ul> <li>Login/Registro con JWT</li> <li>DetecciÃ³n automÃ¡tica de token expirado</li> <li>Secure storage para credenciales</li> <li>Manejo de sesiÃ³n expirada con redirecciÃ³n</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#gestion-de-organizaciones","level":3,"title":"ğŸ  GestiÃ³n de Organizaciones","text":"<ul> <li>BÃºsqueda con filtros avanzados</li> <li>Registro de nuevas organizaciones</li> <li>GestiÃ³n de membresÃ­as y roles</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#coordinacion-de-rescates","level":3,"title":"ğŸ¾ CoordinaciÃ³n de Rescates","text":"<ul> <li>GeolocalizaciÃ³n en tiempo real</li> <li>Notificaciones a rescatistas cercanos</li> <li>Historial y seguimiento</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#sistema-de-pagos-latam","level":3,"title":"ğŸ’³ Sistema de Pagos LATAM","text":"<ul> <li>MÃºltiples gateways: OnvoPay, Tilopay (CR), Wompi (CO)</li> <li>Soporte para SINPE, PSE, tarjetas</li> <li>TokenizaciÃ³n segura de tarjetas</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#offline-first","level":3,"title":"ğŸ“´ Offline-First","text":"<ul> <li>Cache local con Hive</li> <li>Cola de sincronizaciÃ³n para cambios pendientes</li> <li>Indicador de estado de sincronizaciÃ³n</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#design-system","level":3,"title":"ğŸ¨ Design System","text":"<ul> <li>Material 3 con tokens personalizados</li> <li>Soporte para modo claro/oscuro</li> <li>TipografÃ­as: Lemon Milk (headers) + Poppins (body)</li> </ul>","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/#documentacion","level":2,"title":"DocumentaciÃ³n","text":"Documento DescripciÃ³n Getting Started InstalaciÃ³n, configuraciÃ³n, flujo de desarrollo Launch Script GuÃ­a completa de los comandos <code>make dev-mobile-*</code> Widgetbook (QA UI) CatÃ¡logo de componentes y flujo de QA de diseÃ±o Arquitectura Clean Architecture, Riverpod patterns, manejo de errores Features Detalle de cada funcionalidad Core Servicios compartidos, network, payments, storage Design System Colores, tipografÃ­a, tema, widgets","path":["ğŸ“± Mobile","ğŸ“± AltruPets Mobile"],"tags":[]},{"location":"docs/mobile/architecture/","level":1,"title":"ğŸ—ï¸ Arquitectura","text":"<p>AltruPets Mobile implementa Clean Architecture con Riverpod como soluciÃ³n de state management, siguiendo principios SOLID y programaciÃ³n funcional con <code>dartz</code>.</p>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#principios-de-diseno","level":2,"title":"Principios de DiseÃ±o","text":"<ol> <li>Dependency Inversion: Las capas internas no dependen de las externas</li> <li>Single Responsibility: Cada clase tiene una Ãºnica razÃ³n para cambiar</li> <li>Testability: InyecciÃ³n de dependencias facilita mocking</li> <li>Immutability: Estados inmutables con Freezed evitan side effects</li> </ol>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#diagrama-de-capas","level":2,"title":"Diagrama de Capas","text":"<pre><code>flowchart TB\n    subgraph Presentation[Presentation Layer]\n        Pages[Pages/Screens]\n        Widgets[Widgets]\n        Providers[Riverpod Providers]\n        States[Freezed States]\n    end\n\n    subgraph Domain[Domain Layer]\n        Entities[Entities]\n        RepoInterfaces[Repository Interfaces]\n        UseCases[Use Cases]\n        Failures[Failures]\n    end\n\n    subgraph Data[Data Layer]\n        Models[Models]\n        RepoImpl[Repository Implementations]\n        DataSources[Data Sources]\n        GraphQL[GraphQL Client]\n    end\n\n    Pages --&gt; Providers\n    Providers --&gt; States\n    Providers --&gt; RepoInterfaces\n\n    UseCases --&gt; RepoInterfaces\n    UseCases --&gt; Entities\n\n    RepoImpl -.-&gt;|implements| RepoInterfaces\n    RepoImpl --&gt; Models\n    RepoImpl --&gt; DataSources\n    DataSources --&gt; GraphQL\n\n    Models -.-&gt;|toEntity| Entities</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#domain-layer","level":2,"title":"Domain Layer","text":"<p>La capa de dominio es el nÃºcleo de la aplicaciÃ³n. No tiene dependencias externas.</p>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#entities-con-freezed","level":3,"title":"Entities con Freezed","text":"<p>Las entidades son objetos inmutables que representan conceptos del negocio:</p> <pre><code>// lib/features/auth/domain/entities/user.dart\nimport 'package:freezed_annotation/freezed_annotation.dart';\n\npart 'user.freezed.dart';\npart 'user.g.dart';\n\n@freezed\nclass User with _$User {\n  const factory User({\n    required String id,\n    required String username,\n    @JsonKey(fromJson: _rolesFromJson) List&lt;String&gt;? roles,\n    String? email,\n    String? firstName,\n    String? lastName,\n    String? phone,\n    String? identification,\n    String? country,\n    String? province,\n    String? canton,\n    String? district,\n    String? occupation,\n    String? incomeSource,\n    bool? isActive,\n    bool? isVerified,\n    String? avatarBase64,\n    @JsonKey(fromJson: _dateTimeFromJson) DateTime? createdAt,\n    @JsonKey(fromJson: _dateTimeFromJson) DateTime? updatedAt,\n  }) = _User;\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);\n}\n\n// Custom JSON converters\nList&lt;String&gt;? _rolesFromJson(dynamic json) {\n  if (json == null) return null;\n  if (json is List) {\n    return json.map((e) =&gt; e.toString()).toList();\n  }\n  return null;\n}\n\nDateTime? _dateTimeFromJson(dynamic json) {\n  if (json == null) return null;\n  if (json is String) {\n    return DateTime.tryParse(json);\n  }\n  return null;\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#repository-interfaces","level":3,"title":"Repository Interfaces","text":"<p>Definen el contrato que deben cumplir las implementaciones:</p> <pre><code>// lib/features/auth/domain/repositories/auth_repository_interface.dart\nimport 'package:dartz/dartz.dart';\nimport 'package:altrupets/core/error/failures.dart';\nimport 'package:altrupets/features/auth/domain/entities/user.dart';\nimport 'package:altrupets/features/auth/data/models/auth_payload.dart';\nimport 'package:altrupets/features/auth/data/models/register_input.dart';\n\nabstract class AuthRepositoryInterface {\n  /// Registra un nuevo usuario\n  Future&lt;Either&lt;Failure, User&gt;&gt; register(RegisterInput input);\n\n  /// Inicia sesiÃ³n y retorna el payload con token\n  Future&lt;Either&lt;Failure, AuthPayload&gt;&gt; login(\n    String username,\n    String password,\n  );\n\n  /// Obtiene el usuario actual desde el token\n  Future&lt;Either&lt;Failure, User&gt;&gt; getCurrentUser();\n\n  /// Cierra la sesiÃ³n\n  Future&lt;Either&lt;Failure, void&gt;&gt; logout();\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#manejo-de-errores-con-either","level":3,"title":"Manejo de Errores con Either","text":"<p>Usamos <code>Either&lt;Failure, T&gt;</code> para representar operaciones que pueden fallar:</p> <pre><code>// lib/core/error/failures.dart\nimport 'package:equatable/equatable.dart';\n\n/// Clase base para todos los tipos de fallos\nabstract class Failure extends Equatable {\n  const Failure(this.message);\n  final String message;\n\n  @override\n  List&lt;Object&gt; get props =&gt; [message];\n}\n\n/// Fallo del servidor (HTTP 5xx, GraphQL errors)\nclass ServerFailure extends Failure {\n  const ServerFailure([super.message = 'Error del servidor']);\n}\n\n/// Fallo de cachÃ© (lectura/escritura local)\nclass CacheFailure extends Failure {\n  const CacheFailure([super.message = 'Error de cachÃ©']);\n}\n\n/// Fallo de red (sin conexiÃ³n, timeout)\nclass NetworkFailure extends Failure {\n  const NetworkFailure([super.message = 'Sin conexiÃ³n a internet']);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#presentation-layer-con-riverpod","level":2,"title":"Presentation Layer con Riverpod","text":"","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#state-con-freezed","level":3,"title":"State con Freezed","text":"<pre><code>// lib/features/auth/presentation/providers/auth_provider.dart\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:freezed_annotation/freezed_annotation.dart';\n\npart 'auth_provider.freezed.dart';\n\n@freezed\nclass AuthState with _$AuthState {\n  const factory AuthState({\n    @Default(false) bool isLoading,\n    AuthPayload? payload,\n    User? user,\n    String? error,\n  }) = _AuthState;\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#statenotifier","level":3,"title":"StateNotifier","text":"<pre><code>class AuthNotifier extends StateNotifier&lt;AuthState&gt; {\n  AuthNotifier(this._repository) : super(const AuthState());\n  final AuthRepositoryInterface _repository;\n\n  Future&lt;void&gt; login(String username, String password) async {\n    // 1. Set loading state\n    state = state.copyWith(\n      isLoading: true,\n      error: null,\n      payload: null,\n      user: null,\n    );\n\n    // 2. Call repository\n    final result = await _repository.login(username, password);\n\n    // 3. Handle result with fold\n    result.fold(\n      (failure) {\n        state = state.copyWith(\n          isLoading: false,\n          error: failure.message,\n          payload: null,\n        );\n      },\n      (payload) {\n        state = state.copyWith(\n          isLoading: false,\n          payload: payload,\n          error: null,\n        );\n      },\n    );\n  }\n\n  Future&lt;void&gt; logout() async {\n    final result = await _repository.logout();\n    result.fold((_) {}, (_) {});\n    // Siempre limpiamos el estado local de auth al cerrar sesiÃ³n\n    state = const AuthState();\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#providers","level":3,"title":"Providers","text":"<pre><code>// Repository provider\nfinal authRepositoryProvider = Provider&lt;AuthRepositoryInterface&gt;((ref) {\n  return AuthRepository();\n});\n\n// StateNotifier provider\nfinal authProvider = StateNotifierProvider&lt;AuthNotifier, AuthState&gt;((ref) {\n  final repository = ref.watch(authRepositoryProvider);\n  return AuthNotifier(repository);\n});\n\n// Derived providers\nfinal isAuthenticatedProvider = FutureProvider&lt;bool&gt;((ref) async {\n  final hasActiveSession = await GraphQLClientService.hasActiveSession();\n  if (!hasActiveSession) return false;\n\n  final repository = ref.read(authRepositoryProvider);\n  final currentUserResult = await repository.getCurrentUser();\n\n  final isValid = currentUserResult.fold(\n    (_) =&gt; false,\n    (_) =&gt; true,\n  );\n\n  if (!isValid) {\n    await GraphQLClientService.clearToken();\n  }\n\n  return isValid;\n});\n\n// Stream provider para sesiÃ³n expirada\nfinal sessionExpiredProvider = StreamProvider&lt;void&gt;((ref) {\n  return GraphQLClientService.sessionExpiredStream;\n});\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#uso-en-widgets","level":3,"title":"Uso en Widgets","text":"<pre><code>class LoginPage extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final authState = ref.watch(authProvider);\n\n    // React to state changes\n    ref.listen&lt;AuthState&gt;(authProvider, (previous, next) {\n      if (next.error != null) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(content: Text(next.error!)),\n        );\n      }\n      if (next.payload != null) {\n        Navigator.pushReplacement(context, ...);\n      }\n    });\n\n    return Scaffold(\n      body: authState.isLoading\n        ? const CircularProgressIndicator()\n        : LoginForm(\n            onSubmit: (username, password) {\n              ref.read(authProvider.notifier).login(username, password);\n            },\n          ),\n    );\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#data-layer","level":2,"title":"Data Layer","text":"","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#repository-implementation","level":3,"title":"Repository Implementation","text":"<pre><code>// lib/features/auth/data/repositories/auth_repository.dart\nclass AuthRepository implements AuthRepositoryInterface {\n  final GraphQLClient _client = GraphQLClientService.getClient();\n\n  @override\n  Future&lt;Either&lt;Failure, AuthPayload&gt;&gt; login(\n    String username,\n    String password,\n  ) async {\n    try {\n      final result = await _client.mutate(\n        MutationOptions(\n          document: gql(loginMutation),\n          variables: {'username': username, 'password': password},\n        ),\n      );\n\n      if (result.hasException) {\n        return Left(ServerFailure(result.exception.toString()));\n      }\n\n      final payload = AuthPayload.fromJson(result.data!['login']);\n\n      // Save token\n      await GraphQLClientService.saveToken(payload.accessToken);\n\n      return Right(payload);\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#estructura-de-feature-completa","level":2,"title":"Estructura de Feature Completa","text":"<pre><code>features/auth/\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/\nâ”‚   â”‚   â”œâ”€â”€ user.dart\nâ”‚   â”‚   â”œâ”€â”€ user.freezed.dart\nâ”‚   â”‚   â””â”€â”€ user.g.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ auth_repository_interface.dart\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â”‚   â”œâ”€â”€ auth_payload.dart\nâ”‚   â”‚   â”œâ”€â”€ auth_payload.freezed.dart\nâ”‚   â”‚   â”œâ”€â”€ auth_payload.g.dart\nâ”‚   â”‚   â”œâ”€â”€ register_input.dart\nâ”‚   â”‚   â”œâ”€â”€ register_input.freezed.dart\nâ”‚   â”‚   â””â”€â”€ register_input.g.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ auth_repository.dart\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ login_page.dart\n    â”‚   â””â”€â”€ register_page.dart\n    â”œâ”€â”€ providers/\n    â”‚   â”œâ”€â”€ auth_provider.dart\n    â”‚   â””â”€â”€ auth_provider.freezed.dart\n    â””â”€â”€ widgets/\n        â”œâ”€â”€ login_form.dart\n        â””â”€â”€ register_form.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#flujo-de-datos","level":2,"title":"Flujo de Datos","text":"<pre><code>sequenceDiagram\n    participant UI as LoginPage\n    participant P as AuthProvider\n    participant R as AuthRepository\n    participant G as GraphQLClient\n    participant S as SecureStorage\n\n    UI-&gt;&gt;P: login(username, password)\n    P-&gt;&gt;P: state = loading\n    P-&gt;&gt;R: login(username, password)\n    R-&gt;&gt;G: mutate(loginMutation)\n    G--&gt;&gt;R: AuthPayload\n    R-&gt;&gt;S: saveToken(token)\n    R--&gt;&gt;P: Right(AuthPayload)\n    P-&gt;&gt;P: state = success\n    P--&gt;&gt;UI: rebuild with new state</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#best-practices","level":2,"title":"Best Practices","text":"","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#do","level":3,"title":"DO","text":"<pre><code>// âœ… Usar Either para operaciones fallibles\nFuture&lt;Either&lt;Failure, User&gt;&gt; getUser();\n\n// âœ… Inyectar dependencias vÃ­a constructor\nclass AuthNotifier extends StateNotifier&lt;AuthState&gt; {\n  AuthNotifier(this._repository);\n  final AuthRepositoryInterface _repository;\n}\n\n// âœ… Usar copyWith para actualizar estado\nstate = state.copyWith(isLoading: true);\n\n// âœ… Manejar ambos casos de Either\nresult.fold(\n  (failure) =&gt; handleError(failure),\n  (success) =&gt; handleSuccess(success),\n);\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/architecture/#dont","level":3,"title":"DON'T","text":"<pre><code>// âŒ Lanzar excepciones desde repositories\nthrow Exception('Error'); // Use Left(Failure) instead\n\n// âŒ Mutar estado directamente\nstate.isLoading = true; // States are immutable\n\n// âŒ Acceder a providers sin ref\nfinal repo = AuthRepository(); // Use ref.watch()\n\n// âŒ Ignorar el lado Left de Either\nresult.getOrElse(() =&gt; defaultValue); // Handle errors properly\n</code></pre>","path":["ğŸ“± Mobile","ğŸ—ï¸ Arquitectura"],"tags":[]},{"location":"docs/mobile/core/","level":1,"title":"âš™ï¸ Core","text":"","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#graphql-client","level":2,"title":"GraphQL Client","text":"<pre><code>final client = GraphQLClientService.getClient();\n\n// Query\nfinal result = await client.query(QueryOptions(\n  document: gql(myQuery),\n  variables: {'id': '123'},\n));\n\n// Token management\nawait GraphQLClientService.saveToken(token);\nawait GraphQLClientService.clearToken();\nfinal hasSession = await GraphQLClientService.hasActiveSession();\n</code></pre>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#network","level":2,"title":"Network","text":"","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#interceptors","level":3,"title":"Interceptors","text":"<ul> <li><code>AuthInterceptor</code> - JWT headers</li> <li><code>ErrorInterceptor</code> - Error handling</li> <li><code>LoggingInterceptor</code> - Request/response logging</li> <li><code>RetryInterceptor</code> - Auto retry</li> </ul>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#network-info","level":3,"title":"Network Info","text":"<pre><code>final isConnected = await networkInfo.isConnected;\n</code></pre>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#storage","level":2,"title":"Storage","text":"","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#secure-storage-tokens","level":3,"title":"Secure Storage (tokens)","text":"<pre><code>await secureStorage.write(key, value);\nfinal value = await secureStorage.read(key);\n</code></pre>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#profile-cache","level":3,"title":"Profile Cache","text":"<pre><code>await ProfileCacheStore.cacheProfile(user);\nfinal cached = await ProfileCacheStore.getCachedProfile();\n</code></pre>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#payments-latam","level":2,"title":"Payments (LATAM)","text":"<p>Gateways: OnvoPay, Tilopay (CR), Wompi (CO), Conekta (MX), MercadoPago (BR)</p> <pre><code>final gateway = PaymentGatewayFactory.create(\n  type: PaymentGatewayType.onvoPay,\n  config: PaymentGatewayConfiguration(publicKey: 'pk_...'),\n);\n\nfinal token = await gateway.tokenizeCard(...);\nfinal result = await gateway.processPayment(amount: 50000, currency: Currency.crc);\n</code></pre>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#widgets-atomic-design","level":2,"title":"Widgets (Atomic Design)","text":"","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#atoms","level":3,"title":"Atoms","text":"<ul> <li><code>AppCircularButton</code></li> <li><code>AppRoleBadge</code></li> <li><code>SyncStatusIndicator</code></li> </ul>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#molecules","level":3,"title":"Molecules","text":"<ul> <li><code>AppInputCard</code></li> <li><code>AppNavItem</code></li> <li><code>AppServiceCard</code></li> <li><code>HomeWelcomeHeader</code></li> <li><code>ProfileMenuOption</code></li> </ul>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#organisms","level":3,"title":"Organisms","text":"<ul> <li><code>MainNavigationBar</code></li> <li><code>ProfileHeader</code></li> <li><code>StickyActionFooter</code></li> <li><code>SecureCardInputWidget</code></li> </ul>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/core/#services","level":2,"title":"Services","text":"<ul> <li><code>AuthService</code> - Sesiones</li> <li><code>GeolocationService</code> - GPS</li> <li><code>LoggingService</code> - Logs</li> </ul>","path":["ğŸ“± Mobile","âš™ï¸ Core"],"tags":[]},{"location":"docs/mobile/design-system/","level":1,"title":"ğŸ¨ Design System","text":"<p>Material 3 con tokens de diseÃ±o personalizados.</p>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#colores","level":2,"title":"Colores","text":"<pre><code>AppColors.primary      // Brand primary\nAppColors.secondary    // Brand secondary\nAppColors.error        // Errores\nAppColors.success      // Ã‰xito\nAppColors.surface      // Superficies\nAppColors.outline      // Bordes\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#modo-oscuro","level":3,"title":"Modo Oscuro","text":"<pre><code>AppColorsDark.primary  // Primary invertido\nAppColorsDark.surface  // Surface oscuro\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#tipografia","level":2,"title":"TipografÃ­a","text":"<p>Fuentes: Lemon Milk (tÃ­tulos), Poppins (cuerpo)</p> <pre><code>Theme.of(context).textTheme.headlineMedium\nTheme.of(context).textTheme.bodyMedium\nTheme.of(context).textTheme.labelLarge\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#theme-provider","level":2,"title":"Theme Provider","text":"<pre><code>final themeMode = ref.watch(themeModeProvider);\n\n// Toggle\nref.read(themeModeProvider.notifier).toggleTheme();\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#spacing","level":2,"title":"Spacing","text":"<pre><code>AppSpacing.xs   // 4\nAppSpacing.sm   // 8\nAppSpacing.md   // 16\nAppSpacing.lg   // 24\nAppSpacing.xl   // 32\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#border-radius","level":2,"title":"Border Radius","text":"<pre><code>AppRadius.sm    // 8\nAppRadius.md    // 12\nAppRadius.lg    // 16\nAppRadius.full  // 9999\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#uso-en-app","level":2,"title":"Uso en App","text":"<pre><code>MaterialApp(\n  theme: AppTheme.lightTheme(),\n  darkTheme: AppTheme.darkTheme(),\n  themeMode: themeMode,\n)\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/design-system/#best-practices","level":2,"title":"Best Practices","text":"<pre><code>// âœ… Correcto\ncolor: AppColors.primary\nstyle: Theme.of(context).textTheme.bodyMedium\npadding: EdgeInsets.all(AppSpacing.md)\n\n// âŒ Incorrecto\ncolor: Color(0xFF6366F1)\nstyle: TextStyle(fontSize: 14)\npadding: EdgeInsets.all(17)\n</code></pre>","path":["ğŸ“± Mobile","ğŸ¨ Design System"],"tags":[]},{"location":"docs/mobile/features/","level":1,"title":"ğŸ“¦ Features","text":"<p>DocumentaciÃ³n detallada de cada feature de la aplicaciÃ³n AltruPets Mobile.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#mapa-de-features","level":2,"title":"Mapa de Features","text":"<pre><code>flowchart TB\n    Auth[Auth&lt;br/&gt;Login/Register]\n    Home[Home&lt;br/&gt;Dashboard]\n    Profile[Profile&lt;br/&gt;User Profile]\n    Orgs[Organizations&lt;br/&gt;Orgs]\n    Rescues[Rescues&lt;br/&gt;Rescues]\n    Settings[Settings&lt;br/&gt;Config]\n    Onboarding[Onboarding&lt;br/&gt;Initial Reg]\n\n    Auth --&gt; Home\n    Onboarding --&gt; Home\n    Home --&gt; Profile\n    Home --&gt; Orgs\n    Home --&gt; Rescues\n    Home --&gt; Settings\n\n    Profile -.-&gt;|uses| Auth\n    Orgs -.-&gt;|uses| Auth\n    Rescues -.-&gt;|uses| Auth\n\n    style Auth fill:#e1f5ff\n    style Home fill:#fff4e1\n    style Profile fill:#f0e1ff\n    style Orgs fill:#e1ffe1\n    style Rescues fill:#ffe1e1\n    style Settings fill:#f5f5f5\n    style Onboarding fill:#ffe1f5</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura-de-un-feature","level":2,"title":"Estructura de un Feature","text":"<p>Cada feature sigue la estructura de Clean Architecture:</p> <pre><code>flowchart TB\n    subgraph Feature[Feature Module]\n        subgraph Domain[domain/]\n            Entities[entities&lt;br/&gt;Freezed models]\n            RepoInt[repositories&lt;br/&gt;Interfaces]\n        end\n\n        subgraph Data[data/]\n            Models[models&lt;br/&gt;DTOs]\n            RepoImpl[repositories&lt;br/&gt;Implementations]\n        end\n\n        subgraph Presentation[presentation/]\n            Pages[pages&lt;br/&gt;Screens]\n            Providers[providers&lt;br/&gt;StateNotifiers]\n            Widgets[widgets&lt;br/&gt;UI Components]\n        end\n    end\n\n    Pages --&gt; Providers\n    Providers --&gt; RepoInt\n    RepoImpl -.-&gt;|implements| RepoInt\n    RepoImpl --&gt; Models\n    Models -.-&gt;|toEntity| Entities\n\n    style Domain fill:#e1f5ff\n    style Data fill:#fff4e1\n    style Presentation fill:#f0e1ff</code></pre> <p>Estructura de carpetas:</p> <pre><code>features/&lt;feature_name&gt;/\nâ”œâ”€â”€ domain/                    # Capa de dominio\nâ”‚   â”œâ”€â”€ entities/              # Entidades de negocio (Freezed)\nâ”‚   â””â”€â”€ repositories/          # Interfaces de repositorio\nâ”œâ”€â”€ data/                      # Capa de datos\nâ”‚   â”œâ”€â”€ models/                # DTOs y modelos de datos\nâ”‚   â””â”€â”€ repositories/          # Implementaciones de repositorio\nâ””â”€â”€ presentation/              # Capa de presentaciÃ³n\n    â”œâ”€â”€ pages/                 # PÃ¡ginas/Screens\n    â”œâ”€â”€ providers/             # Riverpod StateNotifiers\n    â””â”€â”€ widgets/               # Widgets especÃ­ficos del feature\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#auth","level":2,"title":"Auth","text":"<p>Gestiona la autenticaciÃ³n de usuarios con JWT.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades","level":3,"title":"Funcionalidades","text":"<ul> <li>Login: AutenticaciÃ³n con username/password</li> <li>Registro: CreaciÃ³n de nuevos usuarios</li> <li>SesiÃ³n persistente: Token almacenado en secure storage</li> <li>Auto-logout: DetecciÃ³n de token expirado con redirecciÃ³n automÃ¡tica</li> <li>Refresh token: RenovaciÃ³n automÃ¡tica de sesiÃ³n (cuando el backend lo soporte)</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura","level":3,"title":"Estructura","text":"<pre><code>features/auth/\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/\nâ”‚   â”‚   â”œâ”€â”€ user.dart               # Entidad User con todos los campos\nâ”‚   â”‚   â”œâ”€â”€ user.freezed.dart\nâ”‚   â”‚   â””â”€â”€ user.g.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ auth_repository_interface.dart\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â”‚   â”œâ”€â”€ auth_payload.dart       # Token + User response\nâ”‚   â”‚   â””â”€â”€ register_input.dart     # Input para registro\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ auth_repository.dart\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ login_page.dart\n    â”‚   â””â”€â”€ register_page.dart\n    â””â”€â”€ providers/\n        â”œâ”€â”€ auth_provider.dart\n        â””â”€â”€ auth_provider.freezed.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#providers","level":3,"title":"Providers","text":"<pre><code>// Estado de autenticaciÃ³n principal\nfinal authProvider = StateNotifierProvider&lt;AuthNotifier, AuthState&gt;((ref) {\n  final repository = ref.watch(authRepositoryProvider);\n  return AuthNotifier(repository);\n});\n\n// VerificaciÃ³n de sesiÃ³n activa\nfinal isAuthenticatedProvider = FutureProvider&lt;bool&gt;((ref) async {\n  final hasActiveSession = await GraphQLClientService.hasActiveSession();\n  if (!hasActiveSession) return false;\n\n  final repository = ref.read(authRepositoryProvider);\n  final currentUserResult = await repository.getCurrentUser();\n  return currentUserResult.isRight();\n});\n\n// Stream para sesiÃ³n expirada (401/403)\nfinal sessionExpiredProvider = StreamProvider&lt;void&gt;((ref) {\n  return GraphQLClientService.sessionExpiredStream;\n});\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#uso-en-la-app","level":3,"title":"Uso en la App","text":"<pre><code>// En main.dart - Escuchar expiraciÃ³n de sesiÃ³n\nref.listen&lt;AsyncValue&lt;void&gt;&gt;(sessionExpiredProvider, (previous, next) {\n  next.whenData((_) async {\n    await ref.read(authProvider.notifier).logout();\n    navigation.navigateAndRemoveAllGlobal(const LoginPage());\n  });\n});\n\n// Decidir pantalla inicial\nhome: isAuthenticatedAsync.when(\n  data: (isAuthenticated) =&gt;\n      isAuthenticated ? const HomePage() : const LoginPage(),\n  loading: () =&gt;\n      const Scaffold(body: Center(child: CircularProgressIndicator())),\n  error: (_, __) =&gt; const LoginPage(),\n),\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#entidad-user","level":3,"title":"Entidad User","text":"<pre><code>@freezed\nclass User with _$User {\n  const factory User({\n    required String id,\n    required String username,\n    @JsonKey(fromJson: _rolesFromJson) List&lt;String&gt;? roles,\n    String? email,\n    String? firstName,\n    String? lastName,\n    String? phone,\n    String? identification,\n    String? country,\n    String? province,\n    String? canton,\n    String? district,\n    String? occupation,\n    String? incomeSource,\n    bool? isActive,\n    bool? isVerified,\n    String? avatarBase64,\n    @JsonKey(fromJson: _dateTimeFromJson) DateTime? createdAt,\n    @JsonKey(fromJson: _dateTimeFromJson) DateTime? updatedAt,\n  }) = _User;\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#home","level":2,"title":"Home","text":"<p>Dashboard principal que sirve como hub de navegaciÃ³n.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_1","level":3,"title":"Funcionalidades","text":"<ul> <li>Welcome header: Saludo personalizado con nombre del usuario</li> <li>Quick actions: Accesos directos a funciones principales</li> <li>Navigation: NavegaciÃ³n a Organizations, Profile, Settings, Rescues</li> <li>Sync status: Indicador de cambios pendientes por sincronizar</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_1","level":3,"title":"Estructura","text":"<pre><code>features/home/\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â””â”€â”€ home_page.dart\n    â””â”€â”€ widgets/\n        â”œâ”€â”€ home_welcome_header.dart\n        â””â”€â”€ quick_action_card.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#organizations","level":2,"title":"Organizations","text":"<p>GestiÃ³n completa de organizaciones de protecciÃ³n animal.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_2","level":3,"title":"Funcionalidades","text":"<ul> <li>BÃºsqueda: Filtrado por nombre, ubicaciÃ³n, tipo</li> <li>Detalle: Vista completa de organizaciÃ³n con informaciÃ³n de contacto</li> <li>Registro: Formulario para crear nueva organizaciÃ³n</li> <li>MembresÃ­as: GestiÃ³n de miembros y roles dentro de organizaciones</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_2","level":3,"title":"Estructura","text":"<pre><code>features/organizations/\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â”‚   â”œâ”€â”€ organization.dart\nâ”‚   â”‚   â”œâ”€â”€ organization_membership.dart\nâ”‚   â”‚   â”œâ”€â”€ register_organization_input.dart\nâ”‚   â”‚   â””â”€â”€ search_organizations_input.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ organizations_repository.dart\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ search_organizations_page.dart\n    â”‚   â”œâ”€â”€ organization_detail_page.dart\n    â”‚   â”œâ”€â”€ register_organization_page.dart\n    â”‚   â””â”€â”€ manage_memberships_page.dart\n    â””â”€â”€ providers/\n        â””â”€â”€ organizations_provider.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#modelo-organization","level":3,"title":"Modelo Organization","text":"<pre><code>@freezed\nclass Organization with _$Organization {\n  const factory Organization({\n    required String id,\n    required String name,\n    String? description,\n    String? legalId,           // CÃ©dula jurÃ­dica\n    String? email,\n    String? phone,\n    String? website,\n    String? address,\n    String? province,\n    String? canton,\n    String? district,\n    String? logoBase64,\n    bool? isVerified,\n    DateTime? createdAt,\n  }) = _Organization;\n\n  factory Organization.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$OrganizationFromJson(json);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#profile","level":2,"title":"Profile","text":"<p>GestiÃ³n del perfil de usuario con soporte offline.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_3","level":3,"title":"Funcionalidades","text":"<ul> <li>Ver/Editar: InformaciÃ³n personal completa</li> <li>Avatar: Subida y visualizaciÃ³n de foto de perfil</li> <li>UbicaciÃ³n: Selector cascada de Costa Rica (provincia â†’ cantÃ³n â†’ distrito)</li> <li>Hogares de acogida: GestiÃ³n de foster homes</li> <li>Offline: Cache local con sincronizaciÃ³n en segundo plano</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_3","level":3,"title":"Estructura","text":"<pre><code>features/profile/\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â”‚   â”œâ”€â”€ update_profile_input.dart\nâ”‚   â”‚   â””â”€â”€ foster_home.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ profile_repository.dart\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ profile_page.dart\n    â”‚   â””â”€â”€ edit_profile_page.dart\n    â”œâ”€â”€ providers/\n    â”‚   â””â”€â”€ profile_provider.dart\n    â””â”€â”€ widgets/\n        â”œâ”€â”€ profile_header.dart\n        â””â”€â”€ profile_menu_option.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#sincronizacion-offline","level":3,"title":"SincronizaciÃ³n Offline","text":"<p>El sistema de sincronizaciÃ³n offline permite que los cambios se guarden localmente y se sincronicen cuando hay conexiÃ³n.</p> <pre><code>sequenceDiagram\n    participant UI as Pagina Editar Perfil\n    participant P as ProfileProvider\n    participant R as ProfileRepository\n    participant Q as ColaSincronizacion\n    participant C as Cache\n    participant API as API GraphQL\n\n    UI-&gt;&gt;P: updateProfile(datos)\n    P-&gt;&gt;C: Guardar en cache\n    C--&gt;&gt;P: Guardado\n\n    alt En linea\n        P-&gt;&gt;API: Mutacion\n        API--&gt;&gt;P: Exito\n        P-&gt;&gt;C: Actualizar cache\n    else Sin conexion\n        P-&gt;&gt;Q: Agregar a cola\n        Q--&gt;&gt;P: Encolado\n        Note over Q: Espera conexion\n    end\n\n    P--&gt;&gt;UI: Actualizar UI\n\n    Note over Q,API: Cuando hay conexion\n    Q-&gt;&gt;API: Sincronizar cambios\n    API--&gt;&gt;Q: Exito\n    Q-&gt;&gt;C: Actualizar cache</code></pre> <p>Uso en cÃ³digo:</p> <pre><code>// Ver estado de sincronizaciÃ³n\nfinal syncStatus = ref.watch(syncStatusProvider);\n\nif (syncStatus.pendingCount &gt; 0) {\n  // Mostrar indicador de cambios pendientes\n  SyncStatusIndicator(status: syncStatus);\n}\n\n// Texto descriptivo\nsyncStatus.statusText; // \"Sincronizando...\", \"2 cambio(s) pendiente(s)\", \"Sincronizado\"\nsyncStatus.timeSinceLastSync; // \"Hace 5 min\", \"Hace 1 h\"\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#rescues","level":2,"title":"Rescues","text":"<p>CoordinaciÃ³n de rescates de animales con geolocalizaciÃ³n.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_4","level":3,"title":"Funcionalidades","text":"<ul> <li>Crear rescate: Reportar animal en situaciÃ³n de emergencia</li> <li>GeolocalizaciÃ³n: UbicaciÃ³n exacta del animal</li> <li>AsignaciÃ³n: Match con rescatistas cercanos</li> <li>Seguimiento: Estado del rescate en tiempo real</li> <li>Historial: Rescates completados</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_4","level":3,"title":"Estructura","text":"<pre><code>features/rescues/\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/\nâ”‚   â”‚   â””â”€â”€ rescue.dart\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ rescue_repository_interface.dart\nâ”œâ”€â”€ data/\nâ”‚   â””â”€â”€ repositories/\nâ”‚       â””â”€â”€ rescue_repository.dart\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ create_rescue_page.dart\n    â”‚   â”œâ”€â”€ rescue_detail_page.dart\n    â”‚   â””â”€â”€ rescue_history_page.dart\n    â””â”€â”€ providers/\n        â””â”€â”€ rescue_provider.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#geolocalizacion","level":3,"title":"GeolocalizaciÃ³n","text":"<p>El sistema de geolocalizaciÃ³n permite ubicar rescates con precisiÃ³n.</p> <pre><code>sequenceDiagram\n    participant UI as Pagina Crear Rescate\n    participant GP as GeolocationProvider\n    participant GS as GeolocationService\n    participant Perm as Permisos\n    participant GPS as Dispositivo GPS\n\n    UI-&gt;&gt;GP: getCurrentPosition()\n    GP-&gt;&gt;Perm: Verificar permisos\n\n    alt Permisos concedidos\n        Perm--&gt;&gt;GP: Concedidos\n        GP-&gt;&gt;GS: getPosition()\n        GS-&gt;&gt;GPS: Solicitar ubicacion\n        GPS--&gt;&gt;GS: Posicion(lat, lng)\n        GS--&gt;&gt;GP: Posicion\n        GP--&gt;&gt;UI: Posicion\n    else Permisos denegados\n        Perm--&gt;&gt;GP: Denegados\n        GP-&gt;&gt;UI: Solicitar permisos\n        UI-&gt;&gt;Perm: requestPermissions()\n        Perm--&gt;&gt;UI: Resultado\n    end\n\n    UI-&gt;&gt;UI: Mostrar mapa con marcador</code></pre> <p>Uso en cÃ³digo:</p> <pre><code>// Obtener ubicaciÃ³n actual\nfinal position = await ref.read(geolocationProvider.notifier).getCurrentPosition();\n\n// Usar en formulario de rescate\nCreateRescueInput(\n  latitude: position.latitude,\n  longitude: position.longitude,\n  description: 'Perro abandonado en...',\n);\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#settings","level":2,"title":"Settings","text":"<p>ConfiguraciÃ³n de preferencias de la aplicaciÃ³n.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_5","level":3,"title":"Funcionalidades","text":"<ul> <li>Tema: Modo claro, oscuro, o seguir sistema</li> <li>Idioma: EspaÃ±ol, InglÃ©s</li> <li>Notificaciones: Preferencias de push notifications</li> <li>Cuenta: Cerrar sesiÃ³n, eliminar cuenta</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_5","level":3,"title":"Estructura","text":"<pre><code>features/settings/\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â””â”€â”€ settings_page.dart\n    â””â”€â”€ widgets/\n        â”œâ”€â”€ theme_selector.dart\n        â””â”€â”€ language_selector.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#cambiar-tema","level":3,"title":"Cambiar Tema","text":"<p>El sistema de temas permite cambiar entre modo claro, oscuro o seguir el sistema.</p> <pre><code>sequenceDiagram\n    participant UI as Pagina Configuracion\n    participant TP as ThemeProvider\n    participant TN as ThemeNotifier\n    participant Prefs as SharedPreferences\n    participant App as MaterialApp\n\n    UI-&gt;&gt;TP: Leer tema actual\n    TP--&gt;&gt;UI: ThemeMode.dark\n\n    UI-&gt;&gt;TN: setThemeMode(light)\n    TN-&gt;&gt;Prefs: Guardar preferencia\n    Prefs--&gt;&gt;TN: Guardado\n    TN-&gt;&gt;TP: Actualizar estado\n    TP-&gt;&gt;App: Rebuild con nuevo tema\n    App--&gt;&gt;UI: UI actualiza</code></pre> <p>Uso en cÃ³digo:</p> <pre><code>// Leer tema actual\nfinal themeMode = ref.watch(themeModeProvider);\n\n// Cambiar tema\nfinal notifier = await ref.read(themeNotifierInstanceProvider.future);\nawait notifier.setThemeMode(AppThemeMode.dark);\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#onboarding","level":2,"title":"Onboarding","text":"<p>Flujo de registro paso a paso para nuevos usuarios.</p>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#funcionalidades_6","level":3,"title":"Funcionalidades","text":"<ul> <li>SelecciÃ³n de rol: Adoptante, Rescatista, OrganizaciÃ³n</li> <li>InformaciÃ³n bÃ¡sica: Nombre, email, telÃ©fono</li> <li>UbicaciÃ³n: PaÃ­s, provincia, cantÃ³n, distrito</li> <li>VerificaciÃ³n: Email o telÃ©fono</li> </ul>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#flujo-de-onboarding","level":3,"title":"Flujo de Onboarding","text":"<pre><code>state-v2\n    [*] --&gt; RoleSelection: Iniciar\n    RoleSelection --&gt; PersonalInfo: Seleccionar rol\n    PersonalInfo --&gt; Location: Completar info\n    Location --&gt; Verification: Seleccionar ubicacion\n    Verification --&gt; Complete: Verificar\n    Complete --&gt; [*]: Registro exitoso\n\n    RoleSelection --&gt; RoleSelection: Cambiar rol\n    PersonalInfo --&gt; RoleSelection: Volver\n    Location --&gt; PersonalInfo: Volver\n    Verification --&gt; Location: Volver</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#estructura_6","level":3,"title":"Estructura","text":"<pre><code>features/onboarding/\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ pages/\n    â”‚   â”œâ”€â”€ onboarding_page.dart\n    â”‚   â”œâ”€â”€ role_selection_page.dart\n    â”‚   â”œâ”€â”€ personal_info_page.dart\n    â”‚   â””â”€â”€ verification_page.dart\n    â””â”€â”€ providers/\n        â””â”€â”€ onboarding_provider.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#crear-nueva-feature","level":2,"title":"Crear Nueva Feature","text":"","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#1-generar-estructura-de-carpetas","level":3,"title":"1. Generar Estructura de Carpetas","text":"<pre><code>mkdir -p lib/features/nueva_feature/{domain/{entities,repositories},data/{models,repositories},presentation/{pages,providers,widgets}}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#2-crear-entidad","level":3,"title":"2. Crear Entidad","text":"<pre><code>// lib/features/nueva_feature/domain/entities/mi_entidad.dart\nimport 'package:freezed_annotation/freezed_annotation.dart';\n\npart 'mi_entidad.freezed.dart';\npart 'mi_entidad.g.dart';\n\n@freezed\nclass MiEntidad with _$MiEntidad {\n  const factory MiEntidad({\n    required String id,\n    required String nombre,\n  }) = _MiEntidad;\n\n  factory MiEntidad.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$MiEntidadFromJson(json);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#3-crear-interface-de-repositorio","level":3,"title":"3. Crear Interface de Repositorio","text":"<pre><code>// lib/features/nueva_feature/domain/repositories/mi_repositorio_interface.dart\nimport 'package:dartz/dartz.dart';\nimport 'package:altrupets/core/error/failures.dart';\n\nabstract class MiRepositorioInterface {\n  Future&lt;Either&lt;Failure, List&lt;MiEntidad&gt;&gt;&gt; getAll();\n  Future&lt;Either&lt;Failure, MiEntidad&gt;&gt; getById(String id);\n  Future&lt;Either&lt;Failure, MiEntidad&gt;&gt; create(CreateInput input);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#4-implementar-repositorio","level":3,"title":"4. Implementar Repositorio","text":"<pre><code>// lib/features/nueva_feature/data/repositories/mi_repositorio.dart\nclass MiRepositorio implements MiRepositorioInterface {\n  final GraphQLClient _client = GraphQLClientService.getClient();\n\n  @override\n  Future&lt;Either&lt;Failure, List&lt;MiEntidad&gt;&gt;&gt; getAll() async {\n    try {\n      final result = await _client.query(...);\n      if (result.hasException) {\n        return Left(ServerFailure(result.exception.toString()));\n      }\n      return Right(...);\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#5-crear-provider","level":3,"title":"5. Crear Provider","text":"<pre><code>// lib/features/nueva_feature/presentation/providers/mi_provider.dart\n@freezed\nclass MiState with _$MiState {\n  const factory MiState({\n    @Default(false) bool isLoading,\n    @Default([]) List&lt;MiEntidad&gt; items,\n    String? error,\n  }) = _MiState;\n}\n\nclass MiNotifier extends StateNotifier&lt;MiState&gt; {\n  MiNotifier(this._repository) : super(const MiState());\n  final MiRepositorioInterface _repository;\n\n  Future&lt;void&gt; loadItems() async {\n    state = state.copyWith(isLoading: true);\n    final result = await _repository.getAll();\n    result.fold(\n      (failure) =&gt; state = state.copyWith(\n        isLoading: false,\n        error: failure.message,\n      ),\n      (items) =&gt; state = state.copyWith(\n        isLoading: false,\n        items: items,\n      ),\n    );\n  }\n}\n\nfinal miProvider = StateNotifierProvider&lt;MiNotifier, MiState&gt;((ref) {\n  return MiNotifier(ref.watch(miRepositorioProvider));\n});\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#6-generar-codigo","level":3,"title":"6. Generar CÃ³digo","text":"<pre><code>flutter pub run build_runner build --delete-conflicting-outputs\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/features/#7-crear-paginas","level":3,"title":"7. Crear PÃ¡ginas","text":"<pre><code>// lib/features/nueva_feature/presentation/pages/mi_page.dart\nclass MiPage extends ConsumerWidget {\n  const MiPage({super.key});\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final state = ref.watch(miProvider);\n\n    if (state.isLoading) {\n      return const Center(child: CircularProgressIndicator());\n    }\n\n    if (state.error != null) {\n      return Center(child: Text(state.error!));\n    }\n\n    return ListView.builder(\n      itemCount: state.items.length,\n      itemBuilder: (context, index) =&gt; ListTile(\n        title: Text(state.items[index].nombre),\n      ),\n    );\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“¦ Features"],"tags":[]},{"location":"docs/mobile/getting-started/","level":1,"title":"ğŸš€ Getting Started","text":"<p>GuÃ­a completa para configurar y ejecutar AltruPets Mobile en tu entorno de desarrollo.</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#prerrequisitos","level":2,"title":"Prerrequisitos","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#software-requerido","level":3,"title":"Software Requerido","text":"Software VersiÃ³n MÃ­nima PropÃ³sito Flutter SDK 3.10.4+ Framework Dart SDK 3.0+ Incluido con Flutter Android Studio 2023.1+ IDE y Android SDK Xcode 14.0+ Solo macOS, para iOS VS Code Latest IDE alternativo","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#verificar-instalacion","level":3,"title":"Verificar InstalaciÃ³n","text":"<pre><code># Verificar que Flutter estÃ¡ correctamente instalado\nflutter doctor -v\n\n# Output esperado:\n# [âœ“] Flutter (Channel stable, 3.10.x)\n# [âœ“] Android toolchain\n# [âœ“] Xcode (solo macOS)\n# [âœ“] Chrome\n# [âœ“] Android Studio\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#extensiones-recomendadas-vs-code","level":3,"title":"Extensiones Recomendadas (VS Code)","text":"<ul> <li>Flutter - Dart-Code.flutter</li> <li>Dart - Dart-Code.dart-code</li> <li>Riverpod Snippets - robert-brunhage.flutter-riverpod-snippets</li> <li>Error Lens - usernamehw.errorlens</li> </ul>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#instalacion","level":2,"title":"InstalaciÃ³n","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#1-clonar-el-repositorio","level":3,"title":"1. Clonar el Repositorio","text":"<pre><code>git clone https://github.com/altrupets/monorepo.git\ncd monorepo/apps/mobile\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#2-instalar-dependencias","level":3,"title":"2. Instalar Dependencias","text":"<pre><code>flutter pub get\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#3-generar-codigo","level":3,"title":"3. Generar CÃ³digo","text":"<p>El proyecto usa Freezed y JSON Serializable para generar cÃ³digo:</p> <pre><code># Generar una vez\nflutter pub run build_runner build --delete-conflicting-outputs\n\n# O en modo watch (regenera automÃ¡ticamente al guardar)\nflutter pub run build_runner watch --delete-conflicting-outputs\n</code></pre> <p>Archivos Generados</p> <p>Los archivos <code>*.freezed.dart</code> y <code>*.g.dart</code> son generados automÃ¡ticamente. No los edites manualmente - tus cambios se perderÃ¡n.</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#4-generar-localizaciones","level":3,"title":"4. Generar Localizaciones","text":"<pre><code>flutter gen-l10n\n</code></pre> <p>Esto genera <code>lib/l10n/app_localizations.dart</code> desde los archivos <code>.arb</code>.</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#flujo-de-desarrollo-completo-dev","level":2,"title":"Flujo de Desarrollo Completo (DEV)","text":"<p>AltruPets usa un flujo de desarrollo basado en Kubernetes local (Minikube) con ArgoCD para GitOps. El <code>Makefile</code> en la raÃ­z del monorepo automatiza todo el proceso.</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#setup-inicial-primera-vez","level":3,"title":"Setup Inicial (Primera Vez)","text":"<pre><code># 1. Setup del entorno\nmake setup\n\n# 2. Crear cluster Minikube\nmake dev-minikube-deploy\n\n# 3. Desplegar Gateway API (instala CRDs)\nmake dev-gateway-deploy\n\n# 4. Construir imagen del backend\nmake dev-backend-build\n\n# 5. Desplegar ArgoCD + todas las apps\nmake dev-argocd-deploy\n\n# 6. Iniciar port-forward del Gateway\nmake dev-gateway-start\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#comandos-utiles-del-makefile","level":3,"title":"Comandos Ãštiles del Makefile","text":"<p>Minikube: <pre><code>make dev-minikube-deploy          # Crear cluster\nmake dev-minikube-clear           # Limpiar namespaces estancados\nmake dev-minikube-destroy         # Eliminar cluster\n</code></pre></p> <p>Backend: <pre><code>make dev-backend-build            # Rebuild imagen + rollout restart\nmake dev-backend-start            # Iniciar backend en modo dev\n</code></pre></p> <p>Gateway: <pre><code>make dev-gateway-start            # Port-forward a localhost:3001\nmake dev-gateway-stop             # Detener port-forward\n</code></pre></p> <p>ArgoCD: <pre><code>make dev-argocd-deploy            # Instalar ArgoCD + apps\nmake dev-argocd-status            # Ver estado de aplicaciones\nmake dev-argocd-password          # Obtener password de admin\nmake dev-argocd-destroy           # Eliminar ArgoCD\n</code></pre></p> <p>PostgreSQL: <pre><code>make dev-postgres-deploy          # Desplegar PostgreSQL\nmake dev-postgres-logs            # Ver logs\nmake dev-postgres-port-forward    # Port-forward a localhost:5432\n</code></pre></p> <p>Aplicaciones Web: <pre><code>make dev-superusers-start         # CRUD Superusers local\nmake dev-superusers-deploy        # Deploy a Kubernetes\nmake dev-b2g-start                # B2G local\nmake dev-b2g-deploy               # Deploy a Kubernetes\n</code></pre></p> <p>Utilidades: <pre><code>make dev-superuser-seed           # Crear usuario SUPER_USER\nmake help                         # Ver todos los comandos\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#flujo-de-trabajo-tipico","level":3,"title":"Flujo de Trabajo TÃ­pico","text":"<pre><code># 1. Iniciar el dÃ­a\nmake dev-minikube-deploy          # Si no estÃ¡ corriendo\nmake dev-gateway-start            # Port-forward del backend\n\n# 2. Desarrollar en mobile\ncd apps/mobile\nmake dev-mobile-launch-desktop              # Desktop para pruebas rÃ¡pidas\n# o\nmake dev-mobile-launch-emulator              # Emulador Android\n\n# 3. Si cambias el backend\nmake dev-backend-build            # Rebuild + redeploy automÃ¡tico\n\n# 4. Ver logs del backend\nkubectl -n altrupets-dev logs -f deploy/backend --tail=100\n\n# 5. Al terminar (opcional)\nmake dev-gateway-stop             # Detener port-forward\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#endpoints-disponibles","level":3,"title":"Endpoints Disponibles","text":"<p>Cuando el Gateway estÃ¡ activo (<code>make dev-gateway-start</code>):</p> Endpoint DescripciÃ³n <code>http://localhost:3001/graphql</code> API GraphQL del backend <code>http://localhost:3001/admin/login</code> CRUD Superusers <code>http://localhost:3001/b2g/login</code> B2G (Business to Good)","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#troubleshooting-del-entorno","level":3,"title":"Troubleshooting del Entorno","text":"<p>Backend no estÃ¡ Ready: <pre><code># Ver estado\nkubectl -n altrupets-dev get pods\n\n# Ver logs\nkubectl -n altrupets-dev logs -f deploy/backend\n\n# Rebuild forzado\nmake dev-backend-build\n\n# Limpiar pods estancados\nmake dev-minikube-clear\n</code></pre></p> <p>Port-forward no funciona: <pre><code># Detener todos los port-forwards\nmake dev-gateway-stop\n\n# Reiniciar\nmake dev-gateway-start\n</code></pre></p> <p>Minikube lento o sin recursos: <pre><code># Recrear con mÃ¡s recursos (edita Makefile o script)\nmake dev-minikube-destroy\n# Edita: minikube start --cpus=8 --memory=16384\nmake dev-minikube-deploy\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#configuracion-del-backend","level":2,"title":"ConfiguraciÃ³n del Backend","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#url-del-backend","level":3,"title":"URL del Backend","text":"<p>Edita <code>lib/core/utils/constants.dart</code>:</p> <pre><code>class AppConstants {\n  // Desarrollo local\n  static const String baseUrl = 'http://localhost:4000';\n\n  // Para emulador Android (localhost no funciona)\n  // static const String baseUrl = 'http://10.0.2.2:4000';\n\n  // Para dispositivo fÃ­sico Android (usa tu IP local)\n  // static const String baseUrl = 'http://192.168.1.100:4000';\n\n  // Staging\n  // static const String baseUrl = 'https://api-staging.altrupets.com';\n\n  // ProducciÃ³n\n  // static const String baseUrl = 'https://api.altrupets.com';\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#variables-de-entorno-opcional","level":3,"title":"Variables de Entorno (Opcional)","text":"<p>Para mÃºltiples ambientes, considera usar <code>flutter_dotenv</code>:</p> <pre><code># .env.development\nAPI_URL=http://localhost:4000\n\n# .env.staging\nAPI_URL=https://api-staging.altrupets.com\n\n# .env.production\nAPI_URL=https://api.altrupets.com\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ejecutar-la-aplicacion","level":2,"title":"Ejecutar la AplicaciÃ³n","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#script-de-lanzamiento-automatizado","level":3,"title":"Script de Lanzamiento Automatizado","text":"<p>AltruPets incluye comandos <code>make dev-mobile-*</code> que automatizan el flujo completo de desarrollo:</p> <pre><code># Desde la raÃ­z del monorepo\nmake dev-mobile-launch  # MenÃº interactivo\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#opciones-disponibles","level":4,"title":"Opciones Disponibles","text":"<p>Desktop (Pruebas RÃ¡pidas): <pre><code>make dev-mobile-launch-desktop, --linux       # Linux desktop\n</code></pre></p> <p>Android: <pre><code>make dev-mobile-launch-desktop          # Linux desktop\nmake dev-mobile-launch-emulator         # Emulador Android\nmake dev-mobile-launch-device           # Dispositivo fÃ­sico Android\n</code></pre></p> <p>Widgetbook (CatÃ¡logo de Widgets): <pre><code>make dev-mobile-widgetbook  # Abre Widgetbook en Linux desktop\n</code></pre></p> <p>Opciones Globales: <pre><code>--dirty                          # Saltar 'flutter clean' (Ãºtil en Android)\n--no-backend-check               # No verificar backend en Kubernetes\n--no-backend-auto-build          # No build automÃ¡tico si hay ImagePullBackOff\n--backend-retries N              # Intentos de recuperaciÃ³n backend (default: 5)\n--backend-redeploy-argo          # Flujo GitOps: build + refresh/sync ArgoCD\n--backend-rollout-restart        # Flujo imperativo: rollout restart\n--no-backend-prune               # No eliminar pods backend en CrashLoopBackOff\n--no-backend-logs-window         # No abrir ventana con logs del backend\n--no-adb-reverse                 # No configurar adb reverse en --device\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#menu-interactivo","level":4,"title":"MenÃº Interactivo","text":"<p>Si ejecutas el script sin argumentos, se muestra un menÃº interactivo:</p> <pre><code>make dev-mobile-launch\n\n# ğŸ“± AltruPets â€” Selecciona destino:\n#   1) ğŸ–¥ï¸  Linux desktop (prueba rÃ¡pida)\n#   2) ğŸ“± Emulador Android\n#   3) ğŸ“² Dispositivo Android fÃ­sico\n#   4) ğŸ“– Widgetbook (catÃ¡logo de widgets)\n# OpciÃ³n [1-4]:\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#caracteristicas-del-script","level":4,"title":"CaracterÃ­sticas del Script","text":"<p>El script <code>apps/mobile/launch_flutter_debug.sh</code> (invocado por <code>make dev-mobile-*</code>) realiza automÃ¡ticamente:</p> <ol> <li>VerificaciÃ³n de Backend: Comprueba que el backend en Kubernetes estÃ© Ready</li> <li>RecuperaciÃ³n AutomÃ¡tica: Intenta resolver problemas comunes (ImagePullBackOff, pods estancados)</li> <li>Port-Forward AutomÃ¡tico: Configura tÃºneles para acceder al backend desde la app</li> <li>adb reverse (Android): Configura tÃºnel <code>localhost:3001</code> en dispositivos fÃ­sicos</li> <li>Logs Centralizados: Guarda logs en <code>logs/mobile/&lt;device&gt;/launch-&lt;timestamp&gt;.log</code></li> <li>Ventana de Logs Backend: Abre terminal separada con logs del backend (Linux)</li> </ol>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ejemplos-de-uso","level":4,"title":"Ejemplos de Uso","text":"<pre><code># Desarrollo rÃ¡pido en desktop\nmake dev-mobile-launch-desktop\n\n# Android con build limpio\nmake dev-mobile-launch-emulator\n\n# Android sin limpiar cachÃ© (mÃ¡s rÃ¡pido)\nmake dev-mobile-launch-device  # Usa --dirty por defecto\n\n# Con recuperaciÃ³n automÃ¡tica del backend\nmake dev-mobile-launch-emulator --backend-retries 10\n\n# Sin verificar backend (desarrollo offline)\nmake dev-mobile-launch-desktop --no-backend-check\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#listar-dispositivos-disponibles","level":3,"title":"Listar Dispositivos Disponibles","text":"<pre><code>flutter devices\n\n# Output ejemplo:\n# 3 connected devices:\n# Pixel 6 (mobile)      â€¢ emulator-5554      â€¢ android-arm64\n# macOS (desktop)       â€¢ macos              â€¢ darwin-x64\n# Chrome (web)          â€¢ chrome             â€¢ web-javascript\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ejecutar-manualmente-sin-script","level":3,"title":"Ejecutar Manualmente (Sin Script)","text":"<pre><code># Dispositivo por defecto\nflutter run\n\n# Dispositivo especÃ­fico\nflutter run -d emulator-5554\nflutter run -d chrome\n\n# Con verbose logging\nflutter run -v\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ejecutar-en-modo-release","level":3,"title":"Ejecutar en Modo Release","text":"<pre><code># Android\nflutter run --release\n\n# iOS (requiere perfil de provisiÃ³n)\nflutter run --release -d &lt;ios-device-id&gt;\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#hot-reload-vs-hot-restart","level":3,"title":"Hot Reload vs Hot Restart","text":"AcciÃ³n Atajo Uso Hot Reload <code>r</code> Cambios en UI, preserva estado Hot Restart <code>R</code> Reinicia app, pierde estado Quit <code>q</code> Salir de flutter run","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#build-para-produccion","level":2,"title":"Build para ProducciÃ³n","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#android","level":3,"title":"Android","text":"<pre><code># APK (para distribuciÃ³n directa)\nflutter build apk --release\n# Output: build/app/outputs/flutter-apk/app-release.apk\n\n# App Bundle (para Play Store)\nflutter build appbundle --release\n# Output: build/app/outputs/bundle/release/app-release.aab\n\n# Con ofuscaciÃ³n (recomendado para producciÃ³n)\nflutter build appbundle --release --obfuscate --split-debug-info=build/debug-info\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ios","level":3,"title":"iOS","text":"<pre><code># Build para archivo (requiere Xcode)\nflutter build ios --release\n\n# Luego en Xcode:\n# Product &gt; Archive &gt; Distribute App\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#firmar-builds","level":3,"title":"Firmar Builds","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#android_1","level":4,"title":"Android","text":"<p>Crea <code>android/key.properties</code>:</p> <pre><code>storePassword=&lt;password&gt;\nkeyPassword=&lt;password&gt;\nkeyAlias=upload\nstoreFile=&lt;path-to-keystore&gt;/upload-keystore.jks\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ios_1","level":4,"title":"iOS","text":"<p>Configura en Xcode: 1. Signing &amp; Capabilities 2. Selecciona tu Team 3. Configura Bundle Identifier</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#testing","level":2,"title":"Testing","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ejecutar-tests","level":3,"title":"Ejecutar Tests","text":"<pre><code># Todos los tests\nflutter test\n\n# Test especÃ­fico\nflutter test test/features/auth/auth_provider_test.dart\n\n# Con coverage\nflutter test --coverage\n\n# Ver reporte de coverage\ngenhtml coverage/lcov.info -o coverage/html\nopen coverage/html/index.html\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#estructura-de-tests","level":3,"title":"Estructura de Tests","text":"<pre><code>test/\nâ”œâ”€â”€ features/\nâ”‚   â”œâ”€â”€ auth/\nâ”‚   â”‚   â”œâ”€â”€ auth_provider_test.dart\nâ”‚   â”‚   â””â”€â”€ auth_repository_test.dart\nâ”‚   â””â”€â”€ profile/\nâ”‚       â””â”€â”€ profile_provider_test.dart\nâ”œâ”€â”€ core/\nâ”‚   â”œâ”€â”€ graphql_client_test.dart\nâ”‚   â””â”€â”€ failures_test.dart\nâ””â”€â”€ widget_test.dart\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#comandos-utiles","level":2,"title":"Comandos Ãštiles","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#limpieza-y-mantenimiento","level":3,"title":"Limpieza y Mantenimiento","text":"<pre><code># Limpiar cachÃ© y builds\nflutter clean\n\n# Regenerar pubspec.lock\nrm pubspec.lock &amp;&amp; flutter pub get\n\n# Actualizar dependencias\nflutter pub upgrade\n\n# Ver dependencias desactualizadas\nflutter pub outdated\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#analisis-de-codigo","level":3,"title":"AnÃ¡lisis de CÃ³digo","text":"<pre><code># Usar script SAST (recomendado)\n./flutter-sast.sh analyze    # dart analyze\n./flutter-sast.sh test       # unit tests\n./flutter-sast.sh coverage   # tests con coverage\n./flutter-sast.sh lint       # all linting\n./flutter-sast.sh all        # full analysis\n\n# O comandos directos\nflutter analyze\ndart format lib/\ndart fix --apply\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#debugging","level":3,"title":"Debugging","text":"<pre><code># Ver logs del dispositivo\nflutter logs\n\n# Capturar screenshot\nflutter screenshot\n\n# Abrir DevTools\nflutter pub global activate devtools\ndevtools\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#problemas-con-los-comandos-make-dev-mobile-","level":3,"title":"Problemas con los Comandos make dev-mobile-*","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-backend-no-disponible-abortando-launch","level":4,"title":"Error: \"Backend no disponible. Abortando launch\"","text":"<p>Causa: El backend en Kubernetes no estÃ¡ Ready.</p> <p>SoluciÃ³n: <pre><code># Ver estado del backend\nkubectl -n altrupets-dev get pods\n\n# Ver logs\nkubectl -n altrupets-dev logs -f deploy/backend --tail=50\n\n# Rebuild del backend\nmake dev-backend-build\n\n# Si persiste, usar --no-backend-check\nmake dev-mobile-launch-desktop --no-backend-check\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-no-se-detecto-dispositivo-o-emulador-android","level":4,"title":"Error: \"No se detectÃ³ dispositivo o emulador Android\"","text":"<p>Causa: No hay dispositivos Android conectados o emuladores activos.</p> <p>SoluciÃ³n: <pre><code># Listar emuladores disponibles\nflutter emulators\n\n# Lanzar emulador\nflutter emulators --launch &lt;emulator-id&gt;\n\n# Verificar dispositivos\nflutter devices\nadb devices\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-adb-reverse-failed","level":4,"title":"Error: \"adb reverse failed\"","text":"<p>Causa: Dispositivo Android no autorizado o sin depuraciÃ³n USB.</p> <p>SoluciÃ³n: 1. Habilita \"DepuraciÃ³n USB\" en el dispositivo 2. Acepta el diÃ¡logo de autorizaciÃ³n 3. Verifica con <code>adb devices</code> 4. O usa <code>--no-adb-reverse</code> y configura IP manualmente</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#backend-en-crashloopbackoff","level":4,"title":"Backend en CrashLoopBackOff","text":"<p>Causa: Error en la imagen del backend o secretos desincronizados.</p> <p>SoluciÃ³n: <pre><code># El script intenta recuperaciÃ³n automÃ¡tica, pero puedes forzar:\nmake dev-backend-build\n\n# O con el script:\nmake dev-mobile-launch-desktop --backend-rollout-restart\n\n# Limpiar pods estancados\nmake dev-minikube-clear\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#logs-no-se-guardan","level":4,"title":"Logs no se guardan","text":"<p>Causa: Permisos o directorio <code>logs/mobile/</code> no existe.</p> <p>SoluciÃ³n: <pre><code># Crear directorio manualmente\nmkdir -p logs/mobile/android-device\nmkdir -p logs/mobile/android-emulator\nmkdir -p logs/mobile/linux\n\n# Verificar permisos\nchmod -R 755 logs/\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-socketexception-connection-refused","level":3,"title":"Error: \"SocketException: Connection refused\"","text":"<p>Causa: El backend no estÃ¡ corriendo o la URL es incorrecta.</p> <p>SoluciÃ³n: 1. Verifica que el backend estÃ© corriendo:    <pre><code>kubectl -n altrupets-dev get pods\nmake dev-gateway-start\n</code></pre> 2. Si usas emulador Android, cambia a <code>10.0.2.2:3001</code> 3. Si usas dispositivo fÃ­sico:    - Verifica <code>adb reverse</code>: <code>adb reverse --list</code>    - O usa la IP de tu mÃ¡quina: <code>192.168.x.x:3001</code></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-could-not-find-generator-freezed","level":3,"title":"Error: \"Could not find generator 'freezed'\"","text":"<p>Causa: build_runner no estÃ¡ instalado o cachÃ© corrupto.</p> <p>SoluciÃ³n: <pre><code>flutter clean\nflutter pub get\nflutter pub run build_runner build --delete-conflicting-outputs\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-gradle-build-failed","level":3,"title":"Error: \"Gradle build failed\"","text":"<p>SoluciÃ³n: <pre><code>cd android\n./gradlew clean\ncd ..\nflutter clean\nflutter pub get\nflutter run\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#error-cocoapods-not-installed-macos","level":3,"title":"Error: \"CocoaPods not installed\" (macOS)","text":"<p>SoluciÃ³n: <pre><code>sudo gem install cocoapods\ncd ios\npod install\ncd ..\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#hot-reload-no-funciona","level":3,"title":"Hot Reload no funciona","text":"<p>Causa: Cambios en cÃ³digo nativo o archivos de configuraciÃ³n.</p> <p>SoluciÃ³n: Usa Hot Restart (<code>R</code>) o reinicia completamente con <code>flutter run</code>.</p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#port-forward-se-desconecta-constantemente","level":3,"title":"Port-forward se desconecta constantemente","text":"<p>Causa: Minikube inestable o recursos insuficientes.</p> <p>SoluciÃ³n: <pre><code># Reiniciar port-forward\nmake dev-gateway-stop\nmake dev-gateway-start\n\n# O aumentar recursos de Minikube (edita Makefile)\nmake dev-minikube-destroy\n# Edita: --cpus=8 --memory=16384\nmake dev-minikube-deploy\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#widgetbook-no-abre-en-chrome","level":3,"title":"Widgetbook no abre en Chrome","text":"<p>Causa: Chrome no estÃ¡ disponible como dispositivo Flutter.</p> <p>SoluciÃ³n: <pre><code># Verificar dispositivos\nflutter devices\n\n# Si Linux desktop no aparece, verifica que estÃ© habilitado\nflutter config --enable-linux-desktop\nmake dev-mobile-widgetbook\n\n# O ejecuta manualmente\ncd apps/widgetbook\nflutter run -d linux  # o macos/windows\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#logs-y-debugging-avanzado","level":2,"title":"Logs y Debugging Avanzado","text":"","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#logs-centralizados-make-dev-mobile-","level":3,"title":"Logs Centralizados (make dev-mobile-*)","text":"<p>Los comandos <code>make dev-mobile-*</code> guardan automÃ¡ticamente todos los logs en:</p> <pre><code>logs/mobile/\nâ”œâ”€â”€ android-device/\nâ”‚   â””â”€â”€ launch-20250218-143022.log\nâ”œâ”€â”€ android-emulator/\nâ”‚   â””â”€â”€ launch-20250218-140512.log\nâ””â”€â”€ linux/\n    â””â”€â”€ launch-20250218-135401.log\n</code></pre> <p>Ver logs en tiempo real: <pre><code># Ãšltimo log de Android device\ntail -f logs/mobile/android-device/launch-*.log\n\n# Buscar errores\ngrep -i error logs/mobile/*/launch-*.log\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#ventana-de-logs-del-backend-linux","level":3,"title":"Ventana de Logs del Backend (Linux)","text":"<p>En Linux, el script abre automÃ¡ticamente una terminal separada con los logs del backend:</p> <pre><code># Si no se abre automÃ¡ticamente, ejecuta manualmente:\nkubectl -n altrupets-dev logs -f deploy/backend --tail=200\n\n# O desactiva la ventana:\nmake dev-mobile-launch-desktop --no-backend-logs-window\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#flutter-devtools","level":3,"title":"Flutter DevTools","text":"<pre><code># Activar DevTools globalmente\nflutter pub global activate devtools\n\n# Ejecutar\ndevtools\n\n# O desde flutter run:\n# Presiona 'v' para abrir DevTools en el navegador\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#debugging-con-vs-code","level":3,"title":"Debugging con VS Code","text":"<p>Crea <code>.vscode/launch.json</code>:</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Flutter (Debug)\",\n      \"type\": \"dart\",\n      \"request\": \"launch\",\n      \"program\": \"lib/main.dart\",\n      \"args\": [\"--dart-define=ENV=dev\"]\n    },\n    {\n      \"name\": \"Flutter (Profile)\",\n      \"type\": \"dart\",\n      \"request\": \"launch\",\n      \"program\": \"lib/main.dart\",\n      \"flutterMode\": \"profile\"\n    }\n  ]\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#analisis-de-performance","level":3,"title":"AnÃ¡lisis de Performance","text":"<pre><code># Ejecutar en modo profile\nflutter run --profile\n\n# Capturar timeline\nflutter screenshot --type=skia --observatory-url=&lt;url&gt;\n\n# Ver en DevTools\ndevtools --appSizeBase=&lt;path-to-app-size-json&gt;\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/getting-started/#recursos-adicionales","level":2,"title":"Recursos Adicionales","text":"<ul> <li>Flutter Documentation</li> <li>Riverpod Documentation</li> <li>GraphQL Flutter</li> <li>AltruPets Backend API</li> <li>Design System</li> <li>Architecture Guide</li> </ul>","path":["ğŸ“± Mobile","ğŸš€ Getting Started"],"tags":[]},{"location":"docs/mobile/launch-script/","level":1,"title":"ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)","text":"<p>GuÃ­a completa de los comandos automatizados para ejecutar AltruPets Mobile con verificaciÃ³n de backend y configuraciÃ³n automÃ¡tica.</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#descripcion-general","level":2,"title":"DescripciÃ³n General","text":"<p>Los comandos <code>make dev-mobile-*</code> automatizan el flujo completo de desarrollo de la aplicaciÃ³n mÃ³vil, invocando el script <code>apps/mobile/launch_flutter_debug.sh</code> con las opciones correctas:</p> <ul> <li>âœ… VerificaciÃ³n automÃ¡tica del backend en Kubernetes</li> <li>ğŸ”„ RecuperaciÃ³n automÃ¡tica de errores comunes</li> <li>ğŸŒ ConfiguraciÃ³n de port-forwarding y tÃºneles</li> <li>ğŸ“ Logs centralizados por dispositivo</li> <li>ğŸªŸ Ventana separada con logs del backend (Linux)</li> </ul>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#ubicacion","level":2,"title":"UbicaciÃ³n","text":"<pre><code># Desde la raÃ­z del monorepo\nmake dev-mobile-launch          # MenÃº interactivo\nmake dev-mobile-launch-desktop  # Linux desktop\nmake dev-mobile-launch-emulator # Android emulator\nmake dev-mobile-launch-device   # Android device\nmake dev-mobile-widgetbook      # Widgetbook UI catalog\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#sintaxis","level":2,"title":"Sintaxis","text":"<pre><code>make dev-mobile-&lt;target&gt;\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#plataformas-soportadas","level":2,"title":"Plataformas Soportadas","text":"","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#desktop-pruebas-rapidas","level":3,"title":"Desktop (Pruebas RÃ¡pidas)","text":"<pre><code>make dev-mobile-launch-desktop\n</code></pre> <p>Lanza la app en el escritorio nativo (Linux/macOS/Windows). Ideal para: - Pruebas rÃ¡pidas de UI - Desarrollo de lÃ³gica de negocio - Debugging sin emulador</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#android-emulator","level":3,"title":"Android Emulator","text":"<pre><code>make dev-mobile-launch-emulator\n</code></pre> <p>Lanza en el emulador Android activo. Si no hay ninguno activo, intenta lanzar el primero disponible.</p> <p>CaracterÃ­sticas: - DetecciÃ³n automÃ¡tica del emulador - Lanzamiento automÃ¡tico si no estÃ¡ activo - ConfiguraciÃ³n de tÃºnel para backend</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#android-device-fisico","level":3,"title":"Android Device (FÃ­sico)","text":"<pre><code>make dev-mobile-launch-device\n</code></pre> <p>Lanza en un dispositivo Android fÃ­sico conectado por USB.</p> <p>CaracterÃ­sticas: - DetecciÃ³n automÃ¡tica del dispositivo - ConfiguraciÃ³n de <code>adb reverse</code> para tÃºnel localhost - VerificaciÃ³n de autorizaciÃ³n USB</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#widgetbook-catalogo-de-widgets","level":3,"title":"Widgetbook (CatÃ¡logo de Widgets)","text":"<pre><code>make dev-mobile-widgetbook\n</code></pre> <p>Abre el catÃ¡logo de widgets en Linux desktop.</p> <p>CaracterÃ­sticas: - GeneraciÃ³n automÃ¡tica con <code>build_runner</code> - Ideal para desarrollo de Design System - No requiere backend activo</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#opciones-avanzadas-del-script","level":2,"title":"Opciones Avanzadas del Script","text":"<p>Si necesitas opciones avanzadas, puedes invocar el script directamente desde <code>apps/mobile/</code>:</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh [OPCIONES]\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-dirty","level":3,"title":"--dirty","text":"<p>Salta el paso de <code>flutter clean</code> en Android.</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh -d --dirty\n</code></pre> <p>CuÃ¡ndo usar: - Builds incrementales rÃ¡pidos - Cuando no hay cambios en dependencias nativas - Para ahorrar tiempo en iteraciones rÃ¡pidas</p> <p>CuÃ¡ndo NO usar: - DespuÃ©s de cambiar dependencias en <code>pubspec.yaml</code> - DespuÃ©s de modificar cÃ³digo nativo (Android/iOS) - Si hay errores de build extraÃ±os</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-no-backend-check","level":3,"title":"--no-backend-check","text":"<p>Desactiva la verificaciÃ³n de readiness del backend en Kubernetes.</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-check\n</code></pre> <p>CuÃ¡ndo usar: - Desarrollo offline - Cuando el backend no estÃ¡ en Kubernetes - Para pruebas de UI sin backend</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-no-backend-auto-build","level":3,"title":"--no-backend-auto-build","text":"<p>Desactiva el build automÃ¡tico de la imagen del backend si hay <code>ImagePullBackOff</code>.</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --no-backend-auto-build\n</code></pre> <p>CuÃ¡ndo usar: - Cuando no quieres que el script modifique el backend - En entornos CI/CD - Si prefieres hacer el build manualmente</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-backend-retries-n","level":3,"title":"--backend-retries N","text":"<p>Configura el nÃºmero de intentos de recuperaciÃ³n del backend (default: 5).</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --backend-retries 10\n</code></pre> <p>CuÃ¡ndo usar: - Backend lento en iniciar - Recursos limitados en Minikube - Debugging de problemas de deployment</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-backend-redeploy-argo","level":3,"title":"--backend-redeploy-argo","text":"<p>Flujo GitOps: build local + refresh/sync de ArgoCD (sin <code>rollout restart</code> manual).</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --backend-redeploy-argo\n</code></pre> <p>CuÃ¡ndo usar: - Cuando usas ArgoCD para gestionar deployments - Para mantener consistencia con GitOps - En entornos compartidos</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-backend-rollout-restart","level":3,"title":"--backend-rollout-restart","text":"<p>Flujo imperativo: ejecuta <code>kubectl rollout restart deployment/backend</code>.</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --backend-rollout-restart\n</code></pre> <p>CuÃ¡ndo usar: - Desarrollo local rÃ¡pido - Cuando no usas ArgoCD - Para forzar recreaciÃ³n de pods</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-no-backend-prune","level":3,"title":"--no-backend-prune","text":"<p>Desactiva la eliminaciÃ³n automÃ¡tica de pods backend en <code>CrashLoopBackOff</code>.</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --no-backend-prune\n</code></pre> <p>CuÃ¡ndo usar: - Debugging de problemas de backend - Cuando quieres inspeccionar pods fallidos - En entornos de producciÃ³n</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-no-backend-logs-window","level":3,"title":"--no-backend-logs-window","text":"<p>Desactiva la apertura automÃ¡tica de una ventana con logs del backend (solo Linux).</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-logs-window\n</code></pre> <p>CuÃ¡ndo usar: - Cuando prefieres ver logs en la terminal principal - En sistemas sin terminal grÃ¡fica - Para reducir ventanas abiertas</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#-no-adb-reverse","level":3,"title":"--no-adb-reverse","text":"<p>Desactiva la configuraciÃ³n de <code>adb reverse</code> en modo <code>--device</code>.</p> <pre><code>./launch_flutter_debug.sh -d --no-adb-reverse\n</code></pre> <p>CuÃ¡ndo usar: - Cuando usas IP directa en lugar de localhost - Problemas con adb reverse - Dispositivos que no soportan reverse</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#menu-interactivo","level":2,"title":"MenÃº Interactivo","text":"<p>Si ejecutas el script sin argumentos, se muestra un menÃº interactivo:</p> <pre><code>cd apps/mobile\n./launch_flutter_debug.sh\n\nğŸ“± AltruPets â€” Selecciona destino:\n  1) ğŸ–¥ï¸  Linux desktop (prueba rÃ¡pida)\n  2) ğŸ“± Emulador Android\n  3) ğŸ“² Dispositivo Android fÃ­sico\n  4) ğŸ“– Widgetbook (catÃ¡logo de widgets)\nOpciÃ³n [1-4]:\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#flujo-de-ejecucion","level":2,"title":"Flujo de EjecuciÃ³n","text":"","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#1-deteccion-de-plataforma","level":3,"title":"1. DetecciÃ³n de Plataforma","text":"<p>El script detecta automÃ¡ticamente el sistema operativo: - Linux â†’ <code>linux</code> - macOS â†’ <code>macos</code> - Windows â†’ <code>windows</code></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#2-verificacion-de-backend-si-esta-habilitada","level":3,"title":"2. VerificaciÃ³n de Backend (si estÃ¡ habilitada)","text":"<pre><code># El script verifica:\n1. kubectl estÃ¡ instalado\n2. Namespace 'altrupets-dev' existe\n3. Deployment 'backend' existe\n4. Backend estÃ¡ Ready (readyReplicas &gt;= 1)\n</code></pre> <p>RecuperaciÃ³n automÃ¡tica: - Sincroniza secretos de DB si estÃ¡n desincronizados - Elimina pods en <code>CrashLoopBackOff</code> si hay rÃ©plicas sanas - Intenta build automÃ¡tico si hay <code>ImagePullBackOff</code> - Limpia pods de ReplicaSets viejos que bloquean rollout</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#3-configuracion-de-tuneles","level":3,"title":"3. ConfiguraciÃ³n de TÃºneles","text":"<p>Desktop: <pre><code># Port-forward del backend (si estÃ¡ disponible)\nkubectl port-forward -n altrupets-dev svc/backend-service 3001:3001\n</code></pre></p> <p>Android Device: <pre><code># adb reverse para tÃºnel localhost\nadb -s &lt;device-id&gt; reverse tcp:3001 tcp:3001\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#4-logs-centralizados","level":3,"title":"4. Logs Centralizados","text":"<p>Todos los logs se guardan en: <pre><code>logs/mobile/&lt;device-label&gt;/launch-&lt;timestamp&gt;.log\n</code></pre></p> <p>Donde <code>&lt;device-label&gt;</code> es: - <code>linux</code> / <code>macos</code> / <code>windows</code> para desktop - <code>android-emulator</code> para emulador - <code>android-device</code> para dispositivo fÃ­sico</p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#5-ventana-de-logs-backend-linux","level":3,"title":"5. Ventana de Logs Backend (Linux)","text":"<p>En Linux, el script intenta abrir una terminal separada con: <pre><code>kubectl -n altrupets-dev logs -f deploy/backend --tail=200\n</code></pre></p> <p>Soporta: - <code>gnome-terminal</code> - <code>x-terminal-emulator</code> - <code>konsole</code></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#6-ejecucion-de-flutter","level":3,"title":"6. EjecuciÃ³n de Flutter","text":"<pre><code>cd apps/mobile\nflutter pub get\nflutter run -d &lt;device-id&gt;\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#ejemplos-de-uso","level":2,"title":"Ejemplos de Uso","text":"","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#desarrollo-rapido-en-desktop","level":3,"title":"Desarrollo RÃ¡pido en Desktop","text":"<pre><code>make dev-mobile-launch-desktop\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#android-con-build-limpio","level":3,"title":"Android con Build Limpio","text":"<pre><code>make dev-mobile-launch-emulator\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#android-incremental-rapido","level":3,"title":"Android Incremental (RÃ¡pido)","text":"<pre><code>cd apps/mobile\n./launch_flutter_debug.sh -d --dirty\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#desarrollo-offline","level":3,"title":"Desarrollo Offline","text":"<pre><code>cd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-check\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#con-recuperacion-agresiva-del-backend","level":3,"title":"Con RecuperaciÃ³n Agresiva del Backend","text":"<pre><code>cd apps/mobile\n./launch_flutter_debug.sh --emulator --backend-retries 10 --backend-rollout-restart\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#debugging-del-backend","level":3,"title":"Debugging del Backend","text":"<pre><code>cd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-prune --backend-retries 1\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#widgetbook-sin-backend","level":3,"title":"Widgetbook sin Backend","text":"<pre><code>make dev-mobile-widgetbook\n# Backend check se salta automÃ¡ticamente para Widgetbook\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#variables-de-entorno-internas","level":2,"title":"Variables de Entorno Internas","text":"<p>El script usa estas variables (no necesitas configurarlas):</p> Variable Default DescripciÃ³n <code>BACKEND_CHECK_ENABLED</code> <code>true</code> Verificar backend <code>BACKEND_AUTO_BUILD_ENABLED</code> <code>true</code> Build automÃ¡tico <code>BACKEND_MAX_RECOVERY_ATTEMPTS</code> <code>5</code> Intentos de recuperaciÃ³n <code>ADB_REVERSE_ENABLED</code> <code>true</code> Configurar adb reverse <code>BACKEND_PRUNE_STALE_PODS</code> <code>true</code> Eliminar pods estancados <code>BACKEND_LOGS_WINDOW_ENABLED</code> <code>true</code> Abrir ventana de logs","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#backend-no-disponible-abortando-launch","level":3,"title":"\"Backend no disponible. Abortando launch\"","text":"<p>Causa: El backend no estÃ¡ Ready despuÃ©s de todos los intentos.</p> <p>SoluciÃ³n: <pre><code># Ver estado\nkubectl -n altrupets-dev get pods\n\n# Ver logs\nkubectl -n altrupets-dev logs -f deploy/backend\n\n# Rebuild manual\nmake dev-backend-build\n\n# O saltar verificaciÃ³n\ncd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-check\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#no-se-detecto-dispositivo-o-emulador-android","level":3,"title":"\"No se detectÃ³ dispositivo o emulador Android\"","text":"<p>Causa: No hay dispositivos conectados.</p> <p>SoluciÃ³n: <pre><code># Listar emuladores\nflutter emulators\n\n# Lanzar emulador\nflutter emulators --launch &lt;emulator-id&gt;\n\n# Verificar\nflutter devices\nadb devices\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#adb-reverse-failed","level":3,"title":"\"adb reverse failed\"","text":"<p>Causa: Dispositivo no autorizado o sin depuraciÃ³n USB.</p> <p>SoluciÃ³n: 1. Habilita \"DepuraciÃ³n USB\" en el dispositivo 2. Acepta el diÃ¡logo de autorizaciÃ³n 3. Verifica: <code>adb devices</code> 4. O usa directamente: <code>cd apps/mobile &amp;&amp; ./launch_flutter_debug.sh -d --no-adb-reverse</code></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#no-se-pudo-abrir-terminal-adicional-para-logs","level":3,"title":"\"No se pudo abrir terminal adicional para logs\"","text":"<p>Causa: Terminal no soportada o no disponible.</p> <p>SoluciÃ³n: <pre><code># Ver logs manualmente\nkubectl -n altrupets-dev logs -f deploy/backend --tail=200\n\n# O desactiva la ventana\ncd apps/mobile\n./launch_flutter_debug.sh --linux --no-backend-logs-window\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#logs-no-se-guardan","level":3,"title":"Logs no se guardan","text":"<p>Causa: Directorio <code>logs/mobile/</code> no existe o sin permisos.</p> <p>SoluciÃ³n: <pre><code>mkdir -p logs/mobile/{android-device,android-emulator,linux}\nchmod -R 755 logs/\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#integracion-con-makefile","level":2,"title":"IntegraciÃ³n con Makefile","text":"<p>El script se integra con los comandos del Makefile:</p> <pre><code># Setup completo\nmake setup\nmake dev-minikube-deploy\nmake dev-gateway-deploy\nmake dev-backend-build\nmake dev-argocd-deploy\n\n# Lanzar app\nmake dev-mobile-launch-emulator\n\n# Si cambias backend\nmake dev-backend-build\n# El script detectarÃ¡ el cambio automÃ¡ticamente\n</code></pre>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#mejores-practicas","level":2,"title":"Mejores PrÃ¡cticas","text":"<ol> <li>Usa <code>--dirty</code> para iteraciones rÃ¡pidas en Android (ahorra ~30s por build)</li> <li>Revisa los logs centralizados si hay problemas: <code>logs/mobile/*/launch-*.log</code></li> <li>Usa desktop para desarrollo de UI (mÃ¡s rÃ¡pido que emulador)</li> <li>Usa <code>--backend-retries 10</code> si Minikube es lento</li> <li>Desactiva verificaciÃ³n de backend si trabajas offline: <code>--no-backend-check</code></li> </ol>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#proximas-mejoras","level":2,"title":"PrÃ³ximas Mejoras","text":"<ul> <li> Soporte para iOS (detecciÃ³n de simuladores)</li> <li> ConfiguraciÃ³n de variables de entorno por archivo <code>.env</code></li> <li> SelecciÃ³n interactiva de mÃºltiples dispositivos</li> <li> IntegraciÃ³n con Firebase Test Lab</li> <li> Modo \"watch\" para rebuild automÃ¡tico del backend</li> </ul>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/launch-script/#ver-tambien","level":2,"title":"Ver TambiÃ©n","text":"<ul> <li>Getting Started - GuÃ­a completa de instalaciÃ³n</li> <li>Makefile Commands - Comandos de infraestructura</li> <li>Backend Setup - ConfiguraciÃ³n del backend</li> <li>Troubleshooting - SoluciÃ³n de problemas comunes</li> </ul>","path":["ğŸ“± Mobile","ğŸš€ Comandos de Lanzamiento (make dev-mobile-*)"],"tags":[]},{"location":"docs/mobile/sast/","level":1,"title":"Flutter SAST (Static Analysis)","text":"<p>El script <code>flutter-sast.sh</code> proporciona anÃ¡lisis estÃ¡tico de cÃ³digo para Flutter.</p>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#uso","level":2,"title":"Uso","text":"<pre><code>./flutter-sast.sh [command]\n</code></pre>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#comandos-disponibles","level":3,"title":"Comandos disponibles","text":"Comando DescripciÃ³n <code>analyze</code> Ejecuta <code>dart analyze</code> (default) <code>test</code> Ejecuta unit tests <code>coverage</code> Ejecuta tests con coverage <code>lint</code> Ejecuta anÃ¡lisis + formato <code>all</code> Ejecuta anÃ¡lisis completo","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#ejemplos","level":2,"title":"Ejemplos","text":"","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#analisis-basico","level":3,"title":"AnÃ¡lisis bÃ¡sico","text":"<pre><code>./flutter-sast.sh analyze\n</code></pre>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#tests-con-coverage","level":3,"title":"Tests con coverage","text":"<pre><code>./flutter-sast.sh coverage\n</code></pre> <p>Output: <code>coverage/lcov.info</code></p>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#analisis-completo","level":3,"title":"AnÃ¡lisis completo","text":"<pre><code>./flutter-sast.sh all\n</code></pre>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#integracion-con-makefile","level":2,"title":"IntegraciÃ³n con Makefile","text":"<pre><code>make dev-mobile-analyze      # dart analyze\nmake dev-mobile-test         # unit tests\nmake dev-mobile-test-coverage # tests con coverage\nmake dev-mobile-lint         # all linting\n</code></pre>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#cicd","level":2,"title":"CI/CD","text":"<p>Para integrar en pipelines:</p> <pre><code># GitHub Actions example\n- name: Flutter SAST\n  run: |\n    cd apps/mobile\n    ./flutter-sast.sh all\n</code></pre>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#herramientas-incluidas","level":2,"title":"Herramientas incluidas","text":"<ul> <li>dart analyze: AnÃ¡lisis estÃ¡tico de Dart</li> <li>flutter test: Unit tests</li> <li>flutter format: VerificaciÃ³n de formato</li> </ul>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/sast/#configuracion","level":2,"title":"ConfiguraciÃ³n","text":"<p>El anÃ¡lisis usa las reglas definidas en: - <code>analysis_options.yaml</code> - Reglas de linting - <code>dart_test.yaml</code> - ConfiguraciÃ³n de tests</p>","path":["ğŸ“± Mobile","Flutter SAST (Static Analysis)"],"tags":[]},{"location":"docs/mobile/widgetbook/","level":1,"title":"ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI","text":"<p>GuÃ­a completa para usar Widgetbook como herramienta de QA de diseÃ±o UI en AltruPets.</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#que-es-widgetbook","level":2,"title":"Â¿QuÃ© es Widgetbook?","text":"<p>Widgetbook es un catÃ¡logo interactivo de componentes UI que permite:</p> <ul> <li>ğŸ¨ Visualizar componentes en aislamiento sin ejecutar la app completa</li> <li>ğŸ”§ Probar variaciones de props, estados y temas en tiempo real</li> <li>ğŸ“± Validar diseÃ±o antes de integrar en la aplicaciÃ³n</li> <li>ğŸ¤ Colaborar con diseÃ±adores mostrando componentes implementados</li> <li>ğŸ“š Documentar el Design System de forma visual e interactiva</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#ubicacion","level":2,"title":"UbicaciÃ³n","text":"<pre><code>apps/widgetbook/\nâ”œâ”€â”€ lib/\nâ”‚   â”œâ”€â”€ main.dart                    # Entry point con tabs\nâ”‚   â”œâ”€â”€ main.directories.g.dart      # Generado por build_runner\nâ”‚   â”œâ”€â”€ showcase/                    # Showcase del Design System\nâ”‚   â”‚   â”œâ”€â”€ design_system_showcase.dart\nâ”‚   â”‚   â”œâ”€â”€ tonal_palette_generator.dart\nâ”‚   â”‚   â”œâ”€â”€ typography_showcase.dart\nâ”‚   â”‚   â””â”€â”€ elevation_showcase.dart\nâ”‚   â””â”€â”€ use_cases/                   # Use cases de componentes\nâ”‚       â”œâ”€â”€ atoms/                   # Componentes bÃ¡sicos\nâ”‚       â”œâ”€â”€ molecules/               # Componentes compuestos\nâ”‚       â””â”€â”€ organisms/               # Componentes complejos\nâ”œâ”€â”€ pubspec.yaml\nâ””â”€â”€ README.md\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#arquitectura","level":2,"title":"Arquitectura","text":"<p>Widgetbook en AltruPets tiene dos secciones principales:</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#1-widgetbook-tab-1","level":3,"title":"1. Widgetbook (Tab 1)","text":"<p>CatÃ¡logo interactivo de componentes individuales con controles (knobs) para modificar props en tiempo real.</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#2-showcase-tab-2","level":3,"title":"2. Showcase (Tab 2)","text":"<p>VisualizaciÃ³n completa del Design System: - Colors: Paletas tonales, colores primarios, secundarios, etc. - Typography: Escalas tipogrÃ¡ficas (Display, Headline, Body, Label) - Elevation: Niveles de sombra y profundidad</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#lanzar-widgetbook","level":2,"title":"Lanzar Widgetbook","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#opcion-1-script-automatizado-recomendado","level":3,"title":"OpciÃ³n 1: Script Automatizado (Recomendado)","text":"<pre><code># Desde la raÃ­z del monorepo\nmake dev-mobile-widgetbook\n</code></pre> <p>El script automÃ¡ticamente: 1. Ejecuta <code>flutter pub get</code> 2. Genera cÃ³digo con <code>build_runner</code> 3. Abre Widgetbook en Chrome (o desktop si Chrome no estÃ¡ disponible)</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#opcion-2-manual","level":3,"title":"OpciÃ³n 2: Manual","text":"<pre><code>cd apps/widgetbook\n\n# Instalar dependencias\nflutter pub get\n\n# Generar directorios (IMPORTANTE)\ndart run build_runner build -d\n\n# Ejecutar en Chrome\nflutter run -d chrome\n\n# O en desktop\nflutter run -d linux   # macOS: macos, Windows: windows\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#flujo-de-trabajo-para-qa-de-ui","level":2,"title":"Flujo de Trabajo para QA de UI","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#1-disenador-crea-mockups-en-figma","level":3,"title":"1. DiseÃ±ador crea mockups en Figma","text":"<p>El diseÃ±ador trabaja en Figma y define: - Colores (tokens de diseÃ±o) - TipografÃ­as - Espaciados - Componentes</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#2-desarrollador-implementa-componente","level":3,"title":"2. Desarrollador implementa componente","text":"<pre><code>// apps/mobile/lib/core/widgets/atoms/app_circular_button.dart\nclass AppCircularButton extends StatelessWidget {\n  final IconData icon;\n  final VoidCallback onTap;\n  final double size;\n  final Color? iconColor;\n  final double iconSize;\n  final Gradient? gradient;\n  final List&lt;BoxShadow&gt;? boxShadow;\n\n  const AppCircularButton({\n    super.key,\n    required this.icon,\n    required this.onTap,\n    this.size = 56,\n    this.iconColor,\n    this.iconSize = 24,\n    this.gradient,\n    this.boxShadow,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    // ImplementaciÃ³n...\n  }\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#3-crear-use-case-en-widgetbook","level":3,"title":"3. Crear Use Case en Widgetbook","text":"<pre><code>// apps/widgetbook/lib/use_cases/atoms/app_circular_button_use_case.dart\nimport 'package:flutter/material.dart';\nimport 'package:widgetbook/widgetbook.dart';\nimport 'package:widgetbook_annotation/widgetbook_annotation.dart' as widgetbook;\nimport 'package:altrupets/core/widgets/atoms/app_circular_button.dart';\n\n@widgetbook.UseCase(name: 'Default', type: AppCircularButton)\nWidget buildAppCircularButtonUseCase(BuildContext context) {\n  return AppCircularButton(\n    icon: Icons.add,\n    onTap: () {},\n    size: context.knobs.double.slider(\n      label: 'Size',\n      initialValue: 56,\n      min: 32,\n      max: 80,\n    ),\n    iconColor: context.knobs.color(\n      label: 'Icon Color',\n      initialValue: Colors.white,\n    ),\n    iconSize: context.knobs.double.slider(\n      label: 'Icon Size',\n      initialValue: 24,\n      min: 16,\n      max: 40,\n    ),\n  );\n}\n\n@widgetbook.UseCase(name: 'With Gradient', type: AppCircularButton)\nWidget buildAppCircularButtonGradientUseCase(BuildContext context) {\n  return AppCircularButton(\n    icon: Icons.home_rounded,\n    onTap: () {},\n    size: 56,\n    iconSize: 30,\n    gradient: LinearGradient(\n      colors: [\n        Theme.of(context).colorScheme.secondary,\n        Theme.of(context).colorScheme.primary,\n      ],\n    ),\n  );\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#4-regenerar-widgetbook","level":3,"title":"4. Regenerar Widgetbook","text":"<pre><code>cd apps/widgetbook\ndart run build_runner build -d\n</code></pre> <p>Esto genera <code>main.directories.g.dart</code> que registra automÃ¡ticamente todos los use cases.</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#5-qa-visual-con-disenador","level":3,"title":"5. QA Visual con DiseÃ±ador","text":"<ol> <li>Abrir Widgetbook: <code>make dev-mobile-widgetbook</code></li> <li>Navegar al componente en el Ã¡rbol de la izquierda</li> <li>Probar variaciones usando los knobs (controles)</li> <li>Cambiar tema (Light/Dark) con el addon de tema</li> <li>Validar que coincida con el diseÃ±o de Figma</li> <li>Iterar si hay diferencias</li> </ol>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#6-capturar-screenshots-opcional","level":3,"title":"6. Capturar Screenshots (Opcional)","text":"<pre><code># Mientras Widgetbook estÃ¡ corriendo\nflutter screenshot --out=screenshots/button_default.png\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#anatomia-de-un-use-case","level":2,"title":"AnatomÃ­a de un Use Case","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#estructura-basica","level":3,"title":"Estructura BÃ¡sica","text":"<pre><code>import 'package:widgetbook_annotation/widgetbook_annotation.dart' as widgetbook;\n\n@widgetbook.UseCase(name: 'Nombre del Caso', type: MiWidget)\nWidget buildMiWidgetUseCase(BuildContext context) {\n  return MiWidget(\n    // Props del widget\n  );\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#knobs-disponibles","level":3,"title":"Knobs Disponibles","text":"<p>Los knobs permiten controlar props en tiempo real:</p> <pre><code>// Slider numÃ©rico\ncontext.knobs.double.slider(\n  label: 'Size',\n  initialValue: 56,\n  min: 32,\n  max: 80,\n)\n\n// Input de texto\ncontext.knobs.string(\n  label: 'Title',\n  initialValue: 'Hello World',\n)\n\n// Selector de color\ncontext.knobs.color(\n  label: 'Background Color',\n  initialValue: Colors.blue,\n)\n\n// Boolean (checkbox)\ncontext.knobs.boolean(\n  label: 'Enabled',\n  initialValue: true,\n)\n\n// Lista de opciones\ncontext.knobs.list(\n  label: 'Size',\n  options: ['small', 'medium', 'large'],\n  initialOption: 'medium',\n)\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#multiples-variantes","level":3,"title":"MÃºltiples Variantes","text":"<p>Puedes crear mÃºltiples use cases para el mismo widget:</p> <pre><code>@widgetbook.UseCase(name: 'Default', type: AppButton)\nWidget buildDefaultButton(BuildContext context) {\n  return AppButton(text: 'Click me');\n}\n\n@widgetbook.UseCase(name: 'Loading', type: AppButton)\nWidget buildLoadingButton(BuildContext context) {\n  return AppButton(text: 'Loading...', isLoading: true);\n}\n\n@widgetbook.UseCase(name: 'Disabled', type: AppButton)\nWidget buildDisabledButton(BuildContext context) {\n  return AppButton(text: 'Disabled', enabled: false);\n}\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#organizacion-por-atomic-design","level":2,"title":"OrganizaciÃ³n por Atomic Design","text":"<p>Widgetbook en AltruPets sigue Atomic Design:</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#atoms-atomos","level":3,"title":"Atoms (Ãtomos)","text":"<p>Componentes bÃ¡sicos e indivisibles: - <code>AppCircularButton</code> - <code>AppRoleBadge</code> - <code>AppAccentBar</code></p> <p>UbicaciÃ³n: - ImplementaciÃ³n: <code>apps/mobile/lib/core/widgets/atoms/</code> - Use cases: <code>apps/widgetbook/lib/use_cases/atoms/</code></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#molecules-moleculas","level":3,"title":"Molecules (MolÃ©culas)","text":"<p>CombinaciÃ³n de Ã¡tomos: - <code>HomeWelcomeHeader</code> - <code>SectionHeader</code> - <code>AppInputCard</code> - <code>ProfileMenuOption</code></p> <p>UbicaciÃ³n: - ImplementaciÃ³n: <code>apps/mobile/lib/core/widgets/molecules/</code> - Use cases: <code>apps/widgetbook/lib/use_cases/molecules/</code></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#organisms-organismos","level":3,"title":"Organisms (Organismos)","text":"<p>Componentes complejos: - <code>MainNavigationBar</code> - <code>ProfileHeader</code> - <code>StickyActionFooter</code></p> <p>UbicaciÃ³n: - ImplementaciÃ³n: <code>apps/mobile/lib/core/widgets/organisms/</code> - Use cases: <code>apps/widgetbook/lib/use_cases/organisms/</code></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#showcase-del-design-system","level":2,"title":"Showcase del Design System","text":"<p>El tab \"Showcase\" muestra el Design System completo:</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#colors-paletas-tonales","level":3,"title":"Colors (Paletas Tonales)","text":"<p>Visualiza todas las paletas de color: - Primary (Azul) - Secondary (Naranja) - Tertiary - Error - Neutral - Neutral Variant</p> <p>Cada paleta muestra tonos del 0 al 100.</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#typography-tipografia","level":3,"title":"Typography (TipografÃ­a)","text":"<p>Muestra todas las escalas tipogrÃ¡ficas: - Display: displayLarge, displayMedium, displaySmall - Headline: headlineLarge, headlineMedium, headlineSmall - Title: titleLarge, titleMedium, titleSmall - Body: bodyLarge, bodyMedium, bodySmall - Label: labelLarge, labelMedium, labelSmall</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#elevation-elevacion","level":3,"title":"Elevation (ElevaciÃ³n)","text":"<p>Visualiza los 5 niveles de elevaciÃ³n con sus sombras correspondientes.</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#comandos-utiles","level":2,"title":"Comandos Ãštiles","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#regenerar-codigo","level":3,"title":"Regenerar CÃ³digo","text":"<pre><code>cd apps/widgetbook\n\n# Build una vez\ndart run build_runner build -d\n\n# Watch mode (regenera automÃ¡ticamente)\ndart run build_runner watch -d\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#limpiar-y-regenerar","level":3,"title":"Limpiar y Regenerar","text":"<pre><code>cd apps/widgetbook\nflutter clean\nflutter pub get\ndart run build_runner build --delete-conflicting-outputs\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#ejecutar-en-diferentes-plataformas","level":3,"title":"Ejecutar en Diferentes Plataformas","text":"<pre><code># Chrome (recomendado para QA)\nflutter run -d chrome\n\n# Linux desktop\nflutter run -d linux\n\n# macOS desktop\nflutter run -d macos\n\n# Windows desktop\nflutter run -d windows\n</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#checklist-de-qa-visual","level":2,"title":"Checklist de QA Visual","text":"<p>Usa este checklist al validar componentes con el diseÃ±ador:</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#colores","level":3,"title":"âœ… Colores","text":"<ul> <li> Colores coinciden con tokens de Figma</li> <li> Tema claro funciona correctamente</li> <li> Tema oscuro funciona correctamente</li> <li> Estados hover/pressed tienen feedback visual</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#tipografia","level":3,"title":"âœ… TipografÃ­a","text":"<ul> <li> Fuentes correctas (Lemon Milk / Poppins)</li> <li> TamaÃ±os de texto coinciden con diseÃ±o</li> <li> Line height y letter spacing correctos</li> <li> JerarquÃ­a visual clara</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#espaciado","level":3,"title":"âœ… Espaciado","text":"<ul> <li> Padding interno correcto</li> <li> Margin externo correcto</li> <li> Espaciado entre elementos consistente</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#interactividad","level":3,"title":"âœ… Interactividad","text":"<ul> <li> Botones responden al tap</li> <li> Animaciones suaves (si aplica)</li> <li> Estados disabled visualmente claros</li> <li> Loading states funcionan</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#responsive","level":3,"title":"âœ… Responsive","text":"<ul> <li> Se adapta a diferentes anchos</li> <li> Texto no se corta</li> <li> ImÃ¡genes escalan correctamente</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#accesibilidad","level":3,"title":"âœ… Accesibilidad","text":"<ul> <li> Contraste de color suficiente (WCAG AA)</li> <li> TamaÃ±os de tap targets &gt;= 44x44</li> <li> Semantic labels presentes</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#integracion-con-figma","level":2,"title":"IntegraciÃ³n con Figma","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#exportar-tokens-de-figma","level":3,"title":"Exportar Tokens de Figma","text":"<ol> <li>DiseÃ±ador exporta tokens desde Figma usando plugin \"Design Tokens\"</li> <li>Tokens se guardan en <code>apps/mobile/assets/style_dictionary/</code></li> <li>Desarrollador ejecuta Style Dictionary para generar cÃ³digo Dart</li> <li>Tokens se aplican en <code>apps/mobile/lib/core/theme/</code></li> </ol>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#validar-implementacion","level":3,"title":"Validar ImplementaciÃ³n","text":"<ol> <li>Abrir Figma y Widgetbook lado a lado</li> <li>Comparar visualmente componente en ambos</li> <li>Usar herramientas de mediciÃ³n de Figma para verificar espaciados</li> <li>Usar inspector de color para verificar valores exactos</li> </ol>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#could-not-find-generator-widgetbook_generator","level":3,"title":"\"Could not find generator 'widgetbook_generator'\"","text":"<p>SoluciÃ³n: <pre><code>cd apps/widgetbook\nflutter clean\nflutter pub get\ndart run build_runner build -d\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#use-case-no-aparece-en-widgetbook","level":3,"title":"Use case no aparece en Widgetbook","text":"<p>Causas comunes: 1. Falta anotaciÃ³n <code>@widgetbook.UseCase</code> 2. No se regenerÃ³ <code>main.directories.g.dart</code> 3. Archivo no estÃ¡ en <code>lib/use_cases/</code></p> <p>SoluciÃ³n: <pre><code>dart run build_runner build --delete-conflicting-outputs\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#chrome-no-esta-disponible","level":3,"title":"Chrome no estÃ¡ disponible","text":"<p>SoluciÃ³n: <pre><code># Usar desktop en su lugar\nflutter run -d linux  # o macos/windows\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#componente-no-se-importa-correctamente","level":3,"title":"Componente no se importa correctamente","text":"<p>Causa: El componente estÃ¡ en <code>apps/mobile</code> y Widgetbook lo importa como dependencia.</p> <p>SoluciÃ³n: <pre><code>// Importar desde el paquete altrupets\nimport 'package:altrupets/core/widgets/atoms/mi_widget.dart';\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#hot-reload-no-funciona","level":3,"title":"Hot reload no funciona","text":"<p>SoluciÃ³n: - Usa Hot Restart (<code>R</code>) en lugar de Hot Reload (<code>r</code>) - O reinicia completamente: <code>q</code> + <code>flutter run</code></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#mejores-practicas","level":2,"title":"Mejores PrÃ¡cticas","text":"","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#1-un-use-case-por-estado","level":3,"title":"1. Un Use Case por Estado","text":"<p>Crea use cases separados para cada estado significativo: <pre><code>@widgetbook.UseCase(name: 'Default', type: AppButton)\n@widgetbook.UseCase(name: 'Loading', type: AppButton)\n@widgetbook.UseCase(name: 'Disabled', type: AppButton)\n@widgetbook.UseCase(name: 'Error', type: AppButton)\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#2-usa-knobs-para-props-variables","level":3,"title":"2. Usa Knobs para Props Variables","text":"<p>Permite al diseÃ±ador experimentar: <pre><code>size: context.knobs.double.slider(\n  label: 'Size',\n  initialValue: 56,\n  min: 32,\n  max: 80,\n)\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#3-proporciona-contexto-visual","level":3,"title":"3. Proporciona Contexto Visual","text":"<p>Envuelve componentes en contenedores con fondo si es necesario: <pre><code>return Container(\n  width: 400,\n  color: const Color(0xFF0F172A),\n  child: MiWidget(),\n);\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#4-documenta-variantes-importantes","level":3,"title":"4. Documenta Variantes Importantes","text":"<p>Crea use cases para casos de uso reales: <pre><code>@widgetbook.UseCase(name: 'With Long Text', type: AppCard)\n@widgetbook.UseCase(name: 'With Image', type: AppCard)\n@widgetbook.UseCase(name: 'Empty State', type: AppCard)\n</code></pre></p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#5-manten-sincronizado-con-mobile","level":3,"title":"5. MantÃ©n Sincronizado con Mobile","text":"<p>Cuando cambies un componente en <code>apps/mobile</code>: 1. Actualiza el use case correspondiente en <code>apps/widgetbook</code> 2. Regenera con <code>build_runner</code> 3. Valida visualmente</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#workflow-completo-diseno-implementacion-qa","level":2,"title":"Workflow Completo: DiseÃ±o â†’ ImplementaciÃ³n â†’ QA","text":"<pre><code>graph LR\n    A[DiseÃ±ador crea en Figma] --&gt; B[Exporta tokens]\n    B --&gt; C[Dev implementa componente]\n    C --&gt; D[Dev crea use case]\n    D --&gt; E[Regenera Widgetbook]\n    E --&gt; F[QA visual con diseÃ±ador]\n    F --&gt; G{Â¿Aprobado?}\n    G --&gt;|No| C\n    G --&gt;|SÃ­| H[Integrar en app]</code></pre>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#paso-a-paso","level":3,"title":"Paso a Paso","text":"<ol> <li>DiseÃ±ador: Crea componente en Figma con especificaciones</li> <li>Desarrollador: Implementa en <code>apps/mobile/lib/core/widgets/</code></li> <li>Desarrollador: Crea use case en <code>apps/widgetbook/lib/use_cases/</code></li> <li>Desarrollador: Regenera Widgetbook</li> <li>Ambos: SesiÃ³n de QA visual en Widgetbook</li> <li>DiseÃ±ador: Aprueba o solicita cambios</li> <li>Desarrollador: Itera hasta aprobaciÃ³n</li> <li>Desarrollador: Integra componente en features de la app</li> </ol>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#recursos-adicionales","level":2,"title":"Recursos Adicionales","text":"<ul> <li>Widgetbook Documentation</li> <li>Atomic Design Methodology</li> <li>Material Design 3</li> <li>AltruPets Design System</li> <li>Getting Started</li> </ul>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/mobile/widgetbook/#proximas-mejoras","level":2,"title":"PrÃ³ximas Mejoras","text":"<ul> <li> IntegraciÃ³n con Figma Dev Mode para comparaciÃ³n lado a lado</li> <li> Screenshots automÃ¡ticos para regression testing</li> <li> ExportaciÃ³n de componentes a Storybook (web)</li> <li> Tests visuales automatizados con Golden Files</li> <li> DocumentaciÃ³n inline en use cases</li> </ul> <p>Ãšltima actualizaciÃ³n: Febrero 2025</p>","path":["ğŸ“± Mobile","ğŸ“– Widgetbook - CatÃ¡logo de Componentes UI"],"tags":[]},{"location":"docs/packages/latam-payments-package/","level":1,"title":"LatinAmericanPaymentGateway - Package Documentation","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#overview","level":2,"title":"Overview","text":"<p>A comprehensive payment gateway SDK for Latin America supporting Costa Rica, Panama, Colombia, Mexico, Brazil, and more with native payment methods like SINPE, PSE, SPEI, PIX, and OXXO.</p> <p>Target: pub.dev package <code>latam_payments</code></p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#1-package-structure","level":2,"title":"1. Package Structure","text":"<pre><code>lib/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ core/\nâ”‚   â”‚   â”œâ”€â”€ entities/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ money.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ card_token.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ payment_result.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ refund_result.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ payment_gateway_configuration.dart\nâ”‚   â”‚   â”œâ”€â”€ enums/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ country.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ currency.dart\nâ”‚   â”‚   â”‚   â”œâ”€â”€ payment_method_type.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ payment_status.dart\nâ”‚   â”‚   â””â”€â”€ interfaces/\nâ”‚   â”‚       â””â”€â”€ latin_american_payment_gateway.dart\nâ”‚   â”œâ”€â”€ gateways/\nâ”‚   â”‚   â”œâ”€â”€ costa_rica/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ onvo_pay_payment_gateway.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ tilopay_payment_gateway.dart\nâ”‚   â”‚   â”œâ”€â”€ panama/\nâ”‚   â”‚   â”‚   â””â”€â”€ [to be defined]\nâ”‚   â”‚   â”œâ”€â”€ colombia/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ wompi_payment_gateway.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ payu_colombia_payment_gateway.dart\nâ”‚   â”‚   â”œâ”€â”€ mexico/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ openpay_payment_gateway.dart\nâ”‚   â”‚   â”‚   â””â”€â”€ conekta_payment_gateway.dart\nâ”‚   â”‚   â””â”€â”€ brazil/\nâ”‚   â”‚       â”œâ”€â”€ pix/\nâ”‚   â”‚       â”‚   â”œâ”€â”€ pix_payment_method.dart\nâ”‚   â”‚       â”‚   â””â”€â”€ pix_payment_gateway.dart\nâ”‚   â”‚       â””â”€â”€ mercado_pago_brazil_payment_gateway.dart\nâ”‚   â””â”€â”€ services/\nâ”‚       â”œâ”€â”€ payment_gateway_factory.dart\nâ”‚       â””â”€â”€ payment_gateway_registry.dart\nâ”œâ”€â”€ latam_payments.dart\nâ””â”€â”€ latam_payments_core.dart\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#2-core-interface","level":2,"title":"2. Core Interface","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#latin_american_payment_gatewaydart","level":3,"title":"<code>latin_american_payment_gateway.dart</code>","text":"<pre><code>abstract class LatinAmericanPaymentGateway {\n  /// Unique identifier for the gateway\n  String get id;\n\n  /// Display name\n  String get name;\n\n  /// Primary country of operation\n  Country get primaryCountry;\n\n  /// Additional supported countries (for multi-country gateways)\n  Set&lt;Country&gt; get supportedCountries;\n\n  /// Supported payment methods\n  Set&lt;PaymentMethodType&gt; get supportedMethods;\n\n  /// Supported currencies\n  Set&lt;Currency&gt; get supportedCurrencies;\n\n  /// Initialize with configuration\n  Future&lt;void&gt; initialize(PaymentGatewayConfiguration config);\n\n  /// PCI compliant card tokenization\n  /// Returns a secure token representing the card\n  Future&lt;CardToken&gt; tokenizeCard({\n    required String cardNumber,\n    required String expiryMonth,\n    required String expiryYear,\n    required String cvv,\n    required String cardHolderName,\n    CardBillingAddress? billingAddress,\n  });\n\n  /// Process a payment\n  /// [amount]: Amount in smallest currency unit (e.g., 1000 = $10.00)\n  /// [currency]: Payment currency\n  /// [method]: Payment method (CardToken, Pix, Sinpe, etc.)\n  Future&lt;PaymentResult&gt; processPayment({\n    required int amount,\n    required Currency currency,\n    required PaymentMethodType method,\n    required String description,\n    String? orderId,\n    Customer? customer,\n    Map&lt;String, dynamic&gt;? metadata,\n  });\n\n  /// Check transaction status\n  Future&lt;PaymentResult&gt; getTransaction(String transactionId);\n\n  /// Refund transaction\n  /// [amount]: If null, full refund\n  Future&lt;RefundResult&gt; refund({\n    required String transactionId,\n    int? amount,\n    String? reason,\n  });\n\n  /// Check gateway availability\n  Future&lt;bool&gt; healthCheck();\n\n  /// Dispose resources\n  Future&lt;void&gt; dispose();\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#3-configuration","level":2,"title":"3. Configuration","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#payment_gateway_configurationdart","level":3,"title":"<code>payment_gateway_configuration.dart</code>","text":"<pre><code>/// Configuration for any LATAM payment gateway\nclass PaymentGatewayConfiguration {\n  /// Public API Key (for client-side tokenization)\n  final String? publicKey;\n\n  /// Private API Key (for backend, if applicable)\n  final String? privateKey;\n\n  /// API Secret (for gateways requiring it)\n  final String? apiSecret;\n\n  /// Environment: sandbox or production\n  final bool sandbox;\n\n  /// Request timeout (default: 30s)\n  final Duration timeout;\n\n  /// Gateway-specific configuration\n  final Map&lt;String, dynamic&gt;? extraConfig;\n\n  const PaymentGatewayConfiguration({\n    this.publicKey,\n    this.privateKey,\n    this.apiSecret,\n    this.sandbox = true,\n    this.timeout = const Duration(seconds: 30),\n    this.extraConfig,\n  });\n\n  /// Factory for minimal configuration (tokenization only)\n  factory PaymentGatewayConfiguration.minimal({\n    required String publicKey,\n    bool sandbox = true,\n  }) =&gt; PaymentGatewayConfiguration(\n    publicKey: publicKey,\n    sandbox: sandbox,\n  );\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#4-enums","level":2,"title":"4. Enums","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#country","level":3,"title":"Country","text":"<pre><code>enum Country {\n  costaRica('CR', 'Costa Rica'),\n  panama('PA', 'PanamÃ¡'),\n  colombia('CO', 'Colombia'),\n  mexico('MX', 'MÃ©xico'),\n  brazil('BR', 'Brasil'),\n  argentina('AR', 'Argentina'),\n  chile('CL', 'Chile'),\n  peru('PE', 'PerÃº');\n\n  final String code;\n  final String displayName;\n  const Country(this.code, this.displayName);\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#currency","level":3,"title":"Currency","text":"<pre><code>enum Currency {\n  crc('CRC', 'Costa Rican ColÃ³n', 'â‚¡'),\n  pab('PAB', 'Panamanian Balboa', 'B/.'),\n  cop('COP', 'Colombian Peso', r'$'),\n  mxn('MXN', 'Mexican Peso', r'$'),\n  brl('BRL', 'Brazilian Real', r'R$'),\n  usd('USD', 'US Dollar', r'$');\n\n  final String code;\n  final String name;\n  final String symbol;\n  const Currency(this.code, this.name, this.symbol);\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#paymentmethodtype","level":3,"title":"PaymentMethodType","text":"<pre><code>enum PaymentMethodType {\n  creditCard,\n  debitCard,\n  sinpeMovil,      // Costa Rica\n  pse,             // Colombia\n  nequi,           // Colombia\n  spei,            // MÃ©xico\n  oxxo,            // MÃ©xico\n  pix,             // Brasil\n  boleto,          // Brasil\n  yape,            // PerÃº\n  plin,            // PerÃº\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#5-factory-registry","level":2,"title":"5. Factory &amp; Registry","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#payment_gateway_factorydart","level":3,"title":"<code>payment_gateway_factory.dart</code>","text":"<pre><code>enum PaymentGatewayType {\n  onvoPay,\n  tilopay,\n  wompi,\n  openpay,\n  conekta,\n  mercadoPago,\n  ebanx,\n}\n\nclass PaymentGatewayFactory {\n  static LatinAmericanPaymentGateway create({\n    required PaymentGatewayType type,\n    required PaymentGatewayConfiguration config,\n  }) {\n    switch (type) {\n      case PaymentGatewayType.onvoPay:\n        return OnvoPayPaymentGateway(config);\n      case PaymentGatewayType.tilopay:\n        return TilopayPaymentGateway(config);\n      case PaymentGatewayType.wompi:\n        return WompiPaymentGateway(config);\n      case PaymentGatewayType.openpay:\n        return OpenpayPaymentGateway(config);\n      case PaymentGatewayType.conekta:\n        return ConektaPaymentGateway(config);\n      case PaymentGatewayType.mercadoPago:\n        return MercadoPagoPaymentGateway(config);\n      case PaymentGatewayType.ebanx:\n        return EbanxPaymentGateway(config);\n    }\n  }\n\n  static List&lt;PaymentGatewayType&gt; availableFor(Country country) {\n    return PaymentGatewayRegistry.gatewaysByCountry[country] ?? [];\n  }\n\n  static Set&lt;PaymentMethodType&gt; nativeMethodsFor(Country country) {\n    return switch (country) {\n      Country.costaRica =&gt; {PaymentMethodType.sinpeMovil},\n      Country.colombia =&gt; {PaymentMethodType.pse, PaymentMethodType.nequi},\n      Country.mexico =&gt; {PaymentMethodType.spei, PaymentMethodType.oxxo},\n      Country.brazil =&gt; {PaymentMethodType.pix, PaymentMethodType.boleto},\n      _ =&gt; {},\n    };\n  }\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#payment_gateway_registrydart","level":3,"title":"<code>payment_gateway_registry.dart</code>","text":"<pre><code>class PaymentGatewayRegistry {\n  static const Map&lt;Country, List&lt;PaymentGatewayType&gt;&gt; gatewaysByCountry = {\n    Country.costaRica: [\n      PaymentGatewayType.onvoPay,\n      PaymentGatewayType.tilopay,\n    ],\n    Country.panama: [\n      // To be defined\n    ],\n    Country.colombia: [\n      PaymentGatewayType.wompi,\n      PaymentGatewayType.mercadoPago,\n      PaymentGatewayType.ebanx,\n    ],\n    Country.mexico: [\n      PaymentGatewayType.openpay,\n      PaymentGatewayType.conekta,\n      PaymentGatewayType.mercadoPago,\n    ],\n    Country.brazil: [\n      PaymentGatewayType.mercadoPago,\n      PaymentGatewayType.ebanx,\n    ],\n  };\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#6-implementation-roadmap","level":2,"title":"6. Implementation Roadmap","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#sprint-1-foundations-this-week","level":3,"title":"Sprint 1: Foundations (This Week)","text":"<ol> <li>Create directory structure</li> <li>Define base interfaces (<code>LatinAmericanPaymentGateway</code>, enums, entities)</li> <li>Migrate <code>OnvoPayPaymentGateway</code> and <code>TilopayPaymentGateway</code></li> <li>Create <code>PaymentGatewayFactory</code> and <code>PaymentGatewayRegistry</code></li> <li>Unit tests</li> </ol>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#sprint-2-colombia-week-2","level":3,"title":"Sprint 2: Colombia (Week 2)","text":"<ol> <li>Implement <code>WompiPaymentGateway</code></li> <li>PSE support</li> <li>Nequi support (if API available)</li> </ol>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#sprint-3-mexico-week-3","level":3,"title":"Sprint 3: Mexico (Week 3)","text":"<ol> <li>Implement <code>OpenpayPaymentGateway</code></li> <li>SPEI support</li> <li>OXXO support</li> </ol>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#sprint-4-brazil-pix-week-4","level":3,"title":"Sprint 4: Brazil PIX (Week 4)","text":"<ol> <li>Implement <code>MercadoPagoBrazilPaymentGateway</code></li> <li>PIX QR code generation</li> <li>PIX confirmation webhooks</li> </ol>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#sprint-5-package-release-week-5","level":3,"title":"Sprint 5: Package Release (Week 5)","text":"<ol> <li>Extract to separate repository</li> <li>Create example app</li> <li>Documentation</li> <li>Publish to pub.dev as <code>latam_payments: ^0.1.0</code></li> </ol>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#7-usage-example","level":2,"title":"7. Usage Example","text":"<pre><code>import 'package:latam_payments/latam_payments.dart';\n\n// Initialize gateway\nfinal gateway = PaymentGatewayFactory.create(\n  type: PaymentGatewayType.onvoPay,\n  config: PaymentGatewayConfiguration(\n    publicKey: 'pk_live_...',\n    sandbox: false,\n  ),\n);\n\n// Tokenize card\nfinal token = await gateway.tokenizeCard(\n  cardNumber: '4242424242424242',\n  expiryMonth: '12',\n  expiryYear: '2025',\n  cvv: '123',\n  cardHolderName: 'John Doe',\n);\n\n// Process payment\nfinal result = await gateway.processPayment(\n  amount: 50000, // â‚¡50,000\n  currency: Currency.crc,\n  method: PaymentMethodType.creditCard,\n  description: 'Purchase',\n);\n\nif (result.success) {\n  print('Payment successful: ${result.transactionId}');\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#8-package-configuration","level":2,"title":"8. Package Configuration","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#pubspecyaml","level":3,"title":"pubspec.yaml","text":"<pre><code>name: latam_payments\ndescription: A comprehensive payment gateway SDK for Latin America supporting Costa Rica, Panama, Colombia, Mexico, Brazil, and more.\nversion: 0.1.0\nhomepage: https://github.com/yourorg/latam_payments\nrepository: https://github.com/yourorg/latam_payments\n\nenvironment:\n  sdk: '&gt;=3.0.0 &lt;4.0.0'\n  flutter: '&gt;=3.10.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  http: ^1.1.0\n  freezed_annotation: ^2.4.0\n  json_annotation: ^4.8.0\n  crypto: ^3.0.3\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  build_runner: ^2.4.0\n  freezed: ^2.4.0\n  json_serializable: ^6.7.0\n  mockito: ^5.4.0\n\ntopics:\n  - payments\n  - latam\n  - gateway\n  - costa-rica\n  - colombia\n  - mexico\n  - brazil\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#9-naming-conventions","level":2,"title":"9. Naming Conventions","text":"<p>All classes use <code>PaymentGateway</code> suffix to avoid conflicts: - âœ… <code>LatinAmericanPaymentGateway</code> - âœ… <code>PaymentGatewayConfiguration</code> - âœ… <code>PaymentGatewayFactory</code> - âœ… <code>PaymentGatewayRegistry</code> - âœ… <code>PaymentGatewayType</code> - âœ… <code>OnvoPayPaymentGateway</code> - âœ… <code>TilopayPaymentGateway</code> - âœ… <code>WompiPaymentGateway</code></p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-package/#10-integration-example","level":2,"title":"10. Integration Example","text":"<pre><code>// Consumer app configuration\nclass MyAppPaymentConfig {\n  static LatinAmericanPaymentGateway gatewayFor(Country country) {\n    return PaymentGatewayFactory.create(\n      type: _gatewayTypeFor(country),\n      config: PaymentGatewayConfiguration(\n        publicKey: _getPublicKeyFor(country),\n        sandbox: const bool.fromEnvironment('SANDBOX', defaultValue: true),\n      ),\n    );\n  }\n\n  static PaymentGatewayType _gatewayTypeFor(Country country) {\n    return switch (country) {\n      Country.costaRica =&gt; PaymentGatewayType.onvoPay,\n      Country.colombia =&gt; PaymentGatewayType.wompi,\n      Country.mexico =&gt; PaymentGatewayType.openpay,\n      Country.brazil =&gt; PaymentGatewayType.mercadoPago,\n      _ =&gt; throw UnsupportedError('Country not supported yet: $country'),\n    };\n  }\n}\n</code></pre> <p>License: MIT Version: 0.1.0 Last Updated: February 2026</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Package Documentation"],"tags":[]},{"location":"docs/packages/latam-payments-progress/","level":1,"title":"LatinAmericanPaymentGateway - Progress Report","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-progress","level":2,"title":"Sprint Progress","text":"","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-1-foundations-completed","level":3,"title":"âœ… Sprint 1: Foundations - COMPLETED","text":"<p>Date: February 18, 2026</p> <p>Completed: - âœ… Created package directory structure (Clean Architecture) - âœ… Defined core enums: Country, Currency, PaymentMethodType, PaymentStatus - âœ… Created entities: Money, CardToken, PaymentResult, RefundResult, PaymentGatewayConfiguration - âœ… Implemented interface: LatinAmericanPaymentGateway - âœ… Created factory and registry services - âœ… Implemented OnvoPayPaymentGateway (Costa Rica) - âœ… Implemented TilopayPaymentGateway (Costa Rica) - âœ… Static analysis: No errors, only minor infos</p> <p>Files Created (15): <pre><code>lib/core/payments/\nâ”œâ”€â”€ data/gateways/costa_rica/\nâ”‚   â”œâ”€â”€ onvo_pay_payment_gateway.dart\nâ”‚   â””â”€â”€ tilopay_payment_gateway.dart\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/ (5 files)\nâ”‚   â”œâ”€â”€ enums/ (4 files)\nâ”‚   â””â”€â”€ interfaces/ (1 file)\nâ”œâ”€â”€ services/\nâ”‚   â”œâ”€â”€ payment_gateway_factory.dart\nâ”‚   â””â”€â”€ payment_gateway_registry.dart\nâ””â”€â”€ latam_payments.dart\n</code></pre></p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-2-colombia-wompi-completed","level":3,"title":"âœ… Sprint 2: Colombia (Wompi) - COMPLETED","text":"<p>Date: February 18, 2026</p> <p>Completed: - âœ… Researched Wompi API documentation - âœ… Found existing Flutter SDK: <code>wompi_payment_colombia</code> v3.0.0 on pub.dev - âœ… Found official GitHub: https://github.com/reyesmfabian/wompi_payment - âœ… Implemented WompiPaymentGateway with:   - Credit/Debit Cards   - PSE (Pagos Seguros en LÃ­nea)   - Nequi (Digital wallet) - âœ… Added support for Colombia AND Panama - âœ… Added Acceptance Token flow (required by Wompi) - âœ… Added Integrity Key support - âœ… Added Business Prefix support - âœ… Added getPseBanks() method - âœ… Added verifyWebhookSignature() method</p> <p>Files Created (1): <pre><code>lib/core/payments/data/gateways/colombia/\nâ””â”€â”€ wompi_payment_gateway.dart\n</code></pre></p> <p>Key Wompi Features Implemented: 1. Acceptance Token - Required before any payment (Wompi requirement) 2. Integrity Key - For transaction verification 3. Business Prefix - For payment references 4. PSE Flow - Bank transfer with async payment URL 5. Nequi Flow - Digital wallet with phone number 6. Card Payments - Tokenization + payment 7. Webhooks - Signature verification</p> <p>Research Findings: - Wompi Official Docs: https://docs.wompi.co - Existing SDK: <code>wompi_payment_colombia</code> (unofficial but functional) - Supported Methods:   - Colombia: Cards, PSE, Nequi   - Panama: Cards, ACH - Currencies: COP, PAB, USD - Key Requirement: Acceptance token must be obtained before payments</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-3-mexico-openpay-conekta-completed","level":3,"title":"âœ… Sprint 3: Mexico (OpenPay, Conekta) - COMPLETED","text":"<p>Date: February 18, 2026</p> <p>Completed: - âœ… Researched OpenPay and Conekta APIs - âœ… Found existing Flutter packages:   - OpenPay: <code>openpay_bbva</code>, <code>openpay2</code>, <code>kiwi-bop/openpay</code> (GitHub)   - Conekta: <code>conekta</code> (server-side), <code>conekta_component</code> (UI), <code>conekta_flutter</code> - âœ… Implemented OpenpayPaymentGateway with:   - Credit/Debit Cards (tokenization)   - SPEI (bank transfer)   - OXXO (cash payments) - âœ… Implemented ConektaPaymentGateway with:   - Credit/Debit Cards   - SPEI (bank transfer via checkout)   - OXXO (cash via checkout) - âœ… Updated PaymentGatewayFactory with new gateways - âœ… Static analysis: No errors, only warnings/infos</p> <p>Files Created (2): <pre><code>lib/core/payments/data/gateways/mexico/\nâ”œâ”€â”€ openpay_payment_gateway.dart\nâ””â”€â”€ conekta_payment_gateway.dart\n</code></pre></p> <p>Key Implementation Details:</p> <p>OpenPay: - Uses merchant ID from extraConfig - Card tokenization via /tokens endpoint - Direct charge creation via /charges - Supports OXXO and SPEI via payment_method type</p> <p>Conekta: - Order-based payment flow - Checkout-based for cash/bank transfers - Card tokenization via /tokens endpoint - Versioned API (v2.1.0)</p> <p>Research Findings: - OpenPay Docs: https://documents.openpay.mx/en/api/ - Conekta Docs: https://developers.conekta/ - Supported Methods: Cards, SPEI, OXXO - Currencies: MXN, USD - Both require private key for server-side operations - Both support 3D Secure for cards</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-4-brazil-mercado-pago-completed","level":3,"title":"âœ… Sprint 4: Brazil (Mercado Pago) - COMPLETED","text":"<p>Date: February 18, 2026</p> <p>Completed: - âœ… Researched Mercado Pago Brazil API - âœ… Found existing Flutter packages:   - <code>mercadopago_transparent</code> - Full SDK   - <code>mp_integration</code> - SDK module   - <code>mercadopago_ducos</code> - Server-side implementation   - <code>pix_bb</code> - Banco do Brasil PIX specific - âœ… Implemented MercadoPagoPaymentGateway with:   - Credit/Debit Cards   - PIX (instant payments, QR code)   - Boleto bancÃ¡rio - âœ… Added getPixQrCode() method - âœ… Updated PaymentGatewayFactory with new gateway - âœ… Static analysis: No errors, only minor warnings</p> <p>Files Created (1): <pre><code>lib/core/payments/data/gateways/brazil/\nâ””â”€â”€ mercado_pago_payment_gateway.dart\n</code></pre></p> <p>Key Implementation Details:</p> <p>Mercado Pago Brazil: - Order-based payment flow (v1/orders) - PIX via payment_method_id: 'pix' - Boleto via payment_method_id: 'bolbradesco' - X-Idempotency-Key header required - Returns QR code and ticket_url for PIX</p> <p>Research Findings: - Mercado Pago Docs: https://www.mercadopago.com.br/developers/ - Supported Methods: Cards, PIX, Boleto - Currencies: BRL, USD - PIX: Instant payments, QR code, copy-paste code - Note: Official Flutter SDK deprecated, recommends WebView checkout (Checkout Bricks)</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#sprint-5-package-release-in-progress","level":3,"title":"ğŸš§ Sprint 5: Package Release - IN PROGRESS","text":"<p>Date: February 18, 2026</p> <p>Completed: - âœ… Created CHANGELOG.md - âœ… Added unit tests for entities and factory (52 tests passing) - âœ… Tests cover: Country, Currency, PaymentMethodType, PaymentStatus enums - âœ… Tests cover: Money, CardToken, PaymentResult, PaymentGatewayConfiguration entities - âœ… Tests cover: PaymentGatewayFactory create, availableFor, nativeMethodsFor, supportedMethodsFor</p> <p>Pending: - [ ] Extract to separate repository - [ ] Create example app - [ ] Publish to pub.dev as <code>latam_payments: ^0.1.0</code> - [ ] Add widget tests for payment forms - [ ] Add integration tests for payment flows - [ ] Add mobile testing with Flutter MCP</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#current-file-structure","level":2,"title":"ğŸ“ Current File Structure","text":"<pre><code>lib/core/payments/\nâ”œâ”€â”€ data/gateways/\nâ”‚   â”œâ”€â”€ costa_rica/\nâ”‚   â”‚   â”œâ”€â”€ onvo_pay_payment_gateway.dart\nâ”‚   â”‚   â””â”€â”€ tilopay_payment_gateway.dart\nâ”‚   â”œâ”€â”€ colombia/\nâ”‚   â”‚   â””â”€â”€ wompi_payment_gateway.dart\nâ”‚   â”œâ”€â”€ mexico/\nâ”‚   â”‚   â”œâ”€â”€ openpay_payment_gateway.dart\nâ”‚   â”‚   â””â”€â”€ conekta_payment_gateway.dart\nâ”‚   â””â”€â”€ brazil/\nâ”‚       â””â”€â”€ mercado_pago_payment_gateway.dart\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/\nâ”‚   â”‚   â”œâ”€â”€ card_token.dart\nâ”‚   â”‚   â”œâ”€â”€ money.dart\nâ”‚   â”‚   â”œâ”€â”€ payment_gateway_configuration.dart\nâ”‚   â”‚   â”œâ”€â”€ payment_result.dart\nâ”‚   â”‚   â””â”€â”€ refund_result.dart\nâ”‚   â”œâ”€â”€ enums/\nâ”‚   â”‚   â”œâ”€â”€ country.dart\nâ”‚   â”‚   â”œâ”€â”€ currency.dart\nâ”‚   â”‚   â”œâ”€â”€ payment_method_type.dart\nâ”‚   â”‚   â””â”€â”€ payment_status.dart\nâ”‚   â””â”€â”€ interfaces/\nâ”‚       â””â”€â”€ latin_american_payment_gateway.dart\nâ”œâ”€â”€ services/\nâ”‚   â”œâ”€â”€ payment_gateway_factory.dart\nâ”‚   â””â”€â”€ payment_gateway_registry.dart\nâ””â”€â”€ latam_payments.dart\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#usage-example","level":2,"title":"ğŸ”§ Usage Example","text":"<pre><code>import 'package:altrupets/core/payments/latam_payments.dart';\n\n// Create gateway\nfinal gateway = PaymentGatewayFactory.create(\n  type: PaymentGatewayType.wompi,\n  config: PaymentGatewayConfiguration(\n    publicKey: 'pub_test_...',\n    sandbox: true,\n    extraConfig: {\n      'integrityKey': 'integ_...',\n      'businessPrefix': 'MY-',\n    },\n  ),\n);\n\n// Initialize (fetches acceptance token)\nawait gateway.initialize(config);\n\n// Tokenize card\nfinal token = await gateway.tokenizeCard(\n  cardNumber: '4242424242424242',\n  expiryMonth: '12',\n  expiryYear: '2025',\n  cvv: '123',\n  cardHolderName: 'John Doe',\n);\n\n// Process payment (card)\nfinal result = await gateway.processPayment(\n  amount: 50000, // COP\n  currency: Currency.cop,\n  method: PaymentMethodType.creditCard,\n  description: 'Purchase',\n  metadata: {'card_token': token.id},\n);\n\n// For PSE - get payment URL and redirect user\nif (result.receiptUrl != null) {\n  // Redirect to bank\n}\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#analysis-tests-results","level":2,"title":"ğŸ“Š Analysis &amp; Tests Results","text":"<pre><code>dart analyze lib/core/payments/\nâœ… 0 errors\nâš ï¸  2 warnings (unused fields - expected, for future use)\nâ„¹ï¸  Multiple infos (style recommendations)\n\nflutter test test/core/payments/\nâœ… 52 tests passing\n- payments_entities_test.dart: 29 tests\n- payment_gateway_factory_test.dart: 23 tests\n</code></pre>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#supported-countries-methods","level":2,"title":"ğŸŒ Supported Countries &amp; Methods","text":"Country Gateways Methods ğŸ‡¨ğŸ‡· Costa Rica OnvoPay, Tilopay Cards, SINPE ğŸ‡¨ğŸ‡´ Colombia Wompi Cards, PSE, Nequi ğŸ‡µğŸ‡¦ Panama Wompi Cards, ACH ğŸ‡²ğŸ‡½ Mexico OpenPay, Conekta Cards, SPEI, OXXO ğŸ‡§ğŸ‡· Brazil Mercado Pago Cards, PIX, Boleto","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]},{"location":"docs/packages/latam-payments-progress/#notes","level":2,"title":"ğŸ“ Notes","text":"<ul> <li>All gateways use <code>PaymentGateway</code> suffix to avoid naming conflicts</li> <li>Package-ready structure for future extraction to pub.dev</li> <li>Follows Clean Architecture with domain/data/presentation layers</li> <li>PCI-compliant: card tokenization happens on gateway side</li> <li>Multi-country support built into core interface</li> </ul> <p>Last Updated: February 18, 2026 Version: 0.1.0 Status: Sprint 5 In Progress (Unit Tests Added)</p>","path":["ğŸ“¦ Paquetes","LatinAmericanPaymentGateway - Progress Report"],"tags":[]}]}